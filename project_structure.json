{"project":"trading-test","generated":"2025-12-21T16:57:39.387140","files":{"update_database.py":{"path":"update_database.py","role":"general","doc":"Database Update CLI Tool","imports":["argparse","database","logging","pathlib","sys"],"globals":[],"todos":[],"items":["def main()","def show_status(updater:DataUpdater)","def list_sectors(updater:DataUpdater)","def print_result(result:dict)"],"lines":196},"Structure.py":{"path":"Structure.py","role":"general","doc":"Python Project Structure Analyzer - LLM Complete Edition","imports":["ast","datetime","json","os","pathlib","subprocess","sys"],"globals":["EXCLUDE_DIRS"],"todos":["if \"TODO\" in line or \"FIXME\" in line:","lines.append(f\"   TODOS:\")"],"items":["def find_git_root(start_path=None)","def find_project_root()","def scan_python_files(base_dir)","def infer_file_role(rel_path)","def extract_globals(tree)","def extract_todos(content)","def compact_signature(func_node)","def extract_compact_info(file_path, project_root)","def generate_text(project_root, files)","def generate_json(project_root, files)","def main()"],"lines":267},"unified_exporter.py":{"path":"unified_exporter.py","role":"general","doc":"Master Unified Exporter - Combines NSE + Screener + Validation","imports":["core","datetime","json","pandas","pathlib","sys"],"globals":[],"todos":[],"items":["class UnifiedExporter  # Export everything from NSE + Screener in one organized structure.","    __init__(self, output_dir:str='stock_data')","    export_complete(self, symbol:str)","    _export_market_data(self, data, market_dir, summary)","    _export_fundamentals(self, data, fundamental_dir, summary)","    _save_metadata(self, symbol_dir, summary)","    _print_summary(self, symbol, summary)","    export_to_excel(self, symbol:str, filename:str=None)","def main()"],"lines":261},"frontend/__init__.py":{"path":"frontend/__init__.py","role":"general","doc":"Dashboard package","imports":[],"globals":[],"todos":[],"items":[],"lines":3},"frontend/app_v3.py":{"path":"frontend/app_v3.py","role":"general","doc":"Fortune Trading Dashboard v3.6 - With Database Explorer","imports":["dashboard","datetime","pathlib","streamlit","sys"],"globals":[],"todos":[],"items":["def initialize_session_state()","def placeholder_page(page_name:str)","def render_system_status()","def main()","def render_footer()"],"lines":422},"frontend/config.py":{"path":"frontend/config.py","role":"config","doc":"Configuration settings for Fortune Trading Dashboard","imports":["os","pathlib"],"globals":["APP_NAME","VERSION","AUTHOR","PAGE_CONFIG","PAGES","PROJECT_ROOT","DB_PATH","DB_PATH_STR","BACKUP_DIR","DATA_DIR","CACHE_DIR","EXPORT_DIR","LOG_DIR","CACHE_TTL","CACHE_TTL_DETAILED","COLORS","CHART_COLORS","CANDLESTICK_COLORS","MODEL_TYPES","DEFAULT_TIMEFRAMES","MTF_TIMEFRAMES","POPULAR_STOCKS","STOCK_CATEGORIES","TECHNICAL_INDICATORS","CHART_HEIGHT","TABLE_HEIGHT","MAX_TABLE_ROWS","NUMBER_FORMAT","DATE_FORMAT","DATETIME_FORMAT","RATE_LIMIT","API_ENDPOINTS","ALERT_THRESHOLDS","NOTIFICATION_CHANNELS","DB_EXPLORER","VALIDATION_RULES","EXPORT_CONFIG","DEBUG","LOGGING","FEATURES"],"todos":[],"items":[],"lines":362},"frontend/app.py":{"path":"frontend/app.py","role":"general","doc":"Fortune Trading Dashboard - Professional Light Theme","imports":["backend","datetime","io","pandas","pathlib","plotly","sqlite3","streamlit","sys"],"globals":["POPULAR_NSE_STOCKS","SQL_EXAMPLES"],"todos":[],"items":["def get_database()","def get_updater()","def get_nse()","def validate_nse_symbol(symbol:str) -> bool","def download_historical_data(symbol:str, period:str, interval:str, source:str='auto')","def download_intraday_data(symbol:str, interval:str)","def convert_df_to_csv(df)","def convert_df_to_excel(df)","def get_all_suggestions()","def execute_sql_query(query:str, db_path:str=None)","def get_recommendations(strategy='balanced')"],"lines":1414},"frontend/app_v3_copy.py":{"path":"frontend/app_v3_copy.py","role":"general","doc":"Fortune Trading Dashboard v3.5 - Production Ready with MTF Analysis","imports":["dashboard","datetime","pathlib","streamlit","sys","time"],"globals":[],"todos":[],"items":["def get_dashboard_statistics()","def initialize_session_state()","def render_system_status()","def main()","def placeholder_page(page_name:str)","def render_footer()"],"lines":454},"frontend/components/charts.py":{"path":"frontend/components/charts.py","role":"general","doc":"Chart rendering components","imports":["frontend","pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def render_price_chart(price_history:pd.DataFrame, symbol:str)","def render_shareholding_chart(shareholding:pd.DataFrame)"],"lines":128},"frontend/components/metrics.py":{"path":"frontend/components/metrics.py","role":"general","doc":"Metric display components","imports":["frontend","pandas","streamlit"],"globals":[],"todos":[],"items":["def render_metrics_row(metrics:dict)"],"lines":43},"frontend/components/navigation.py":{"path":"frontend/components/navigation.py","role":"general","doc":"Navigation components","imports":["streamlit"],"globals":[],"todos":[],"items":["def render_navigation()"],"lines":62},"frontend/components/tables.py":{"path":"frontend/components/tables.py","role":"general","doc":"Table display components","imports":["frontend","pandas","streamlit"],"globals":[],"todos":[],"items":["def render_period_summary(snapshot:dict, last_update)","def render_quarterly_results(quarterly:pd.DataFrame)","def render_peer_comparison(peers:pd.DataFrame)"],"lines":73},"frontend/utils/formatters.py":{"path":"frontend/utils/formatters.py","role":"utility","doc":"Data Formatting Utilities - Financial Data Presentation","imports":["datetime","numpy","pandas","typing"],"globals":[],"todos":[],"items":["def safe_num(value:Any, default:float=0) -> float","def safe_format_currency(value:Any, decimals:int=2, default:str='N/A', symbol:str='\u20b9') -> str","def safe_format_percent(value:Any, decimals:int=2, default:str='N/A', include_sign:bool=False) -> str","def safe_format_number(value:Any, decimals:int=0, default:str='N/A', abbreviate:bool=False) -> str","def safe_get_dict_value(data:dict, key:str, default:str='N/A', format_func:Optional[callable]=None) -> Any","def format_time_ago(dt:Union[datetime, str, None]) -> str","def format_large_number(value:Any) -> str","def parse_indian_number(value:str) -> Optional[float]","def format_market_cap(value:Any) -> str","def color_code_change(value:float) -> str"],"lines":277},"frontend/utils/data_loader.py":{"path":"frontend/utils/data_loader.py","role":"utility","doc":"Data loading and caching utilities","imports":["backend","datetime","numpy","pandas","pathlib","streamlit","sys"],"globals":[],"todos":[],"items":["def get_database()","def get_nse()","def get_updater()","def load_stock_data(symbol:str)","def calculate_metrics(price_history:pd.DataFrame, snapshot:dict)"],"lines":131},"frontend/styles/theme.py":{"path":"frontend/styles/theme.py","role":"general","doc":"Fortune Trading Dashboard - Dark Theme CSS","imports":[],"globals":["DARK_THEME_CSS"],"todos":[],"items":[],"lines":475},"frontend/pages/portfolio.py":{"path":"frontend/pages/portfolio.py","role":"general","doc":"Portfolio page - Holdings and performance","imports":["pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def portfolio_page()"],"lines":143},"frontend/pages/database_explorer.py":{"path":"frontend/pages/database_explorer.py","role":"general","doc":"Database Explorer - View and query database directly from dashboard","imports":["datetime","json","pandas","pathlib","sqlite3","streamlit"],"globals":[],"todos":[],"items":["def database_explorer_page()","def browse_tables_tab(conn)","def display_table_data(conn, table_name)","def sql_query_tab(conn)","def schema_viewer_tab(conn)","def quick_stats_tab(conn)"],"lines":555},"frontend/pages/data_manager.py":{"path":"frontend/pages/data_manager.py","role":"general","doc":"Data Manager Page - With Stock Symbol Validation","imports":["datetime","frontend","logging","pandas","streamlit","time","typing"],"globals":[],"todos":[],"items":["def render_html_table(df:pd.DataFrame, height:int=None) -> str","def validate_stock_symbol(symbol:str, nse) -> Tuple[bool, str, Dict]","def batch_validate_symbols(symbols:List[str], nse) -> Dict[str, Tuple[bool, str, Dict]]","def get_safe_update_summary(db) -> pd.DataFrame","def get_sector_statistics(db) -> Dict[str, int]","def get_data_freshness_distribution(db, companies:List[Dict]) -> Dict[str, int]","def data_manager_page()","def add_new_stock_tab(db, updater, nse)","def add_and_download_stocks(symbols:List[str], existing:List[str], db, updater)","def download_data_tab(db, updater)","def update_database_tab(db, updater)","def database_stats_tab(db)","def update_log_tab(db)","def download_stocks(symbols, force, delay, updater)","def update_all_stocks(companies, updater)","def update_stale_stocks(hours, updater)","def show_summary(results)"],"lines":834},"frontend/pages/research.py":{"path":"frontend/pages/research.py","role":"general","doc":"Research Page - Stock screening and analysis","imports":["backend","datetime","frontend","pandas","re","streamlit","time","typing"],"globals":[],"todos":[],"items":["def research_page()","def screener_tab()","def run_screener(symbols:List[str], min_roe:float, max_pe:float, min_roce:float, min_div_yield:float)","def sector_analysis_tab()","def custom_research_tab()","def compare_stocks(symbols:List[str])","def extract_number(value:str) -> float"],"lines":256},"frontend/pages/settings.py":{"path":"frontend/pages/settings.py","role":"config","doc":"Settings Page - Application and database configuration","imports":["datetime","frontend","pathlib","shutil","streamlit"],"globals":[],"todos":[],"items":["def settings_page()","def general_settings_tab()","def notifications_tab()","def database_management_tab()","def advanced_settings_tab()"],"lines":368},"frontend/pages/analytics.py":{"path":"frontend/pages/analytics.py","role":"general","doc":"Analytics Page - Stock Analysis Dashboard","imports":["datetime","frontend","numpy","pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def analytics_page()","def render_price_trend_chart(price_history:pd.DataFrame, symbol:str)"],"lines":350},"frontend/pages/trading.py":{"path":"frontend/pages/trading.py","role":"general","doc":"Trading page - Order placement and positions","imports":["pandas","streamlit"],"globals":[],"todos":[],"items":["def trading_page()"],"lines":63},"frontend/pages/models.py":{"path":"frontend/pages/models.py","role":"model","doc":"Financial Models Page","imports":["backend","datetime","frontend","json","pandas","streamlit"],"globals":[],"todos":[],"items":["def models_page()","def price_prediction_tab(model_prep, db)","def volatility_models_tab(model_prep, db)","def sentiment_analysis_tab(model_prep, db)","def event_driven_tab(model_prep, db)","def portfolio_optimization_tab(model_prep, db)","def options_trading_tab(model_prep, db)","def display_model_data(data:dict, model_type:str)"],"lines":419},"frontend/pages/mtf_analysis.py":{"path":"frontend/pages/mtf_analysis.py","role":"general","doc":"Multi-Timeframe Analysis Page","imports":["backend","datetime","frontend","pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def mtf_analysis_page()","def display_mtf_analysis(mtf_data:dict, symbol:str, chart_type:str, mtf_manager:MTFDataManager)","def render_timeframe_chart(df:pd.DataFrame, symbol:str, timeframe:str, chart_type:str, trend:str)"],"lines":276},"ml/features/feature_pipeline.py":{"path":"ml/features/feature_pipeline.py","role":"general","doc":null,"imports":["app","numpy","pandas"],"globals":[],"todos":[],"items":["class FeatureEngineeringPipeline  # PILLAR 4: Prediction Engine (P)","    __init__(self, price_data:pd.DataFrame, fundamental_data:dict)","    generate_features(self) -> pd.DataFrame","    _add_return_features(self)","    _add_time_features(self)","    _add_fundamental_features(self)","    _add_targets(self)"],"lines":58},"ml/serving/predictor.py":{"path":"ml/serving/predictor.py","role":"general","doc":null,"imports":["joblib","os","pandas","typing"],"globals":[],"todos":[],"items":["class PredictorService  # Handles model loading and inference for direction and volatility.","    __init__(self)","    _load_model(self, filename:str)","    predict(self, feature_row:pd.DataFrame) -> Dict[str, Any]"],"lines":37},"legacy/stock_screener.py":{"path":"legacy/stock_screener.py","role":"general","doc":"Fundamental Stock Screener using Screener.in data","imports":["core","pandas","re","time","typing"],"globals":[],"todos":[],"items":["class FundamentalScreener  # Screen stocks based on fundamental criteria.","    __init__(self)","    screen_stocks(self, symbols:List[str], min_roe:float=None, max_pe:float=None, min_roce:float=None, min_div_yield:float=None) -> pd.DataFrame","    _extract_number(self, value:str) -> float","def main()"],"lines":152},"legacy/structure.py":{"path":"legacy/structure.py","role":"general","doc":"Python Project Structure Analyzer - LLM Optimized","imports":["ast","datetime","os","pathlib","subprocess","sys"],"globals":["EXCLUDE_DIRS"],"todos":[],"items":["def find_git_root(start_path=None)","def find_project_root()","def scan_python_files(base_dir)","def compact_signature(func_node)","def extract_compact_info(file_path, project_root)","def generate_tree_structure(files, project_root)","def generate_compact_output(project_root, files)","def generate_markdown_output(project_root, files)","def generate_minimal_json(project_root, files)","def save_outputs(project_root, files)","def main()"],"lines":382},"legacy/validate_data.py":{"path":"legacy/validate_data.py","role":"general","doc":"Comprehensive data validation for all exported CSVs","imports":["datetime","numpy","pandas","pathlib"],"globals":[],"todos":[],"items":["class DataValidator  # Validate all exported data for quality issues.","    __init__(self)","    validate_all_csvs(self, folder_path:str)","    _validate_file(self, filename:str, df:pd.DataFrame)","    _validate_price_data(self, filename:str, df:pd.DataFrame)","    _validate_ohlcv_data(self, filename:str, df:pd.DataFrame)","    _validate_timestamps(self, filename:str, df:pd.DataFrame)","    _check_date_gaps(self, filename:str, dates:pd.DatetimeIndex)","    _validate_date_columns(self, filename:str, df:pd.DataFrame)","    _validate_company_info(self, filename:str, df:pd.DataFrame)","    _check_missing_values(self, filename:str, df:pd.DataFrame)","    _print_summary(self)","def main()"],"lines":347},"legacy/test_components.py":{"path":"legacy/test_components.py","role":"general","doc":"Test specific components in detail","imports":["argparse","pathlib","sys"],"globals":[],"todos":[],"items":["def test_nse_detailed()","def test_yahoo_detailed()","def test_database_detailed()","def test_aggregator_detailed()","def main()"],"lines":187},"legacy/config.py":{"path":"legacy/config.py","role":"config","doc":"Central configuration for the stock data system","imports":["datetime","pathlib"],"globals":["BASE_DIR","DATA_DIR","CACHE_DIR","EXPORT_DIR","CACHE_TTL_PRICE","CACHE_TTL_REALTIME","CACHE_TTL_INTRADAY","CACHE_TTL_DAILY","CACHE_TTL_HISTORICAL","CACHE_TTL_FUNDAMENTAL","RATE_LIMIT_NSE","RATE_LIMIT_SCREENER","RATE_LIMIT_YAHOO","DEFAULT_HISTORICAL_PERIOD","DEFAULT_HISTORICAL_INTERVAL","DEFAULT_INTRADAY_INTERVAL","MAX_RETRIES","RETRY_DELAY","EXPORT_CSV_ENCODING","EXPORT_EXCEL_ENGINE","LOG_LEVEL","LOG_FORMAT","LOG_FILE","INDICES","IT_STOCKS","BANK_STOCKS","AUTO_STOCKS","PHARMA_STOCKS","FMCG_STOCKS","ALL_POPULAR_STOCKS"],"todos":[],"items":[],"lines":60},"legacy/test_health_check.py":{"path":"legacy/test_health_check.py","role":"general","doc":"Quick health check for Fortune Trading platform","imports":["pathlib","sys","traceback"],"globals":["GREEN","RED","YELLOW","BLUE","RESET"],"todos":[],"items":["def test_result(passed:bool, test_name:str, details:str='')","def test_imports()","def test_data_sources()","def test_database()","def test_core_functionality()","def test_dashboard()","def print_summary(all_results)","def main()"],"lines":376},"legacy/final_cleanup.py":{"path":"legacy/final_cleanup.py","role":"general","doc":"Final Project Cleanup Script","imports":["argparse","os","pathlib","shutil"],"globals":[],"todos":[],"items":["class ProjectCleaner","    __init__(self, project_root=None)","    log(self, message, emoji='\u2139\ufe0f')","    create_scripts_dir(self)","    delete_temp_files(self, dry_run=False)","    move_utility_scripts(self, dry_run=False)","    cleanup_failed_backups(self, dry_run=False)","    cleanup_pycache(self, dry_run=False)","    create_readme_for_scripts(self, dry_run=False)"],"lines":178},"legacy/quick_validate.py":{"path":"legacy/quick_validate.py","role":"general","doc":"Quick validation for NSE wrapper approach","imports":["pathlib","sys"],"globals":[],"todos":[],"items":[],"lines":166},"legacy/data_sources/__init__.py":{"path":"legacy/data_sources/__init__.py","role":"general","doc":"Data sources package","imports":["base_source","nse_complete"],"globals":[],"todos":[],"items":[],"lines":8},"legacy/data_sources/nse_complete_ORIGINAL.py":{"path":"legacy/data_sources/nse_complete_ORIGINAL.py","role":"general","doc":"Complete NSE data source combining NseUtils + NSEMasterData","imports":["base_source","datetime","logging","nse_master_data","nse_utils","pandas","pathlib","sys","typing"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)  # Complete NSE data source using:","    __init__(self)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]","    get_intraday_data(self, symbol:str, interval:str='5m') -> Optional[pd.DataFrame]","    get_futures_data(self, symbol:str, expiry:str=None, period:str='1m', interval:str='1d') -> Optional[pd.DataFrame]","    get_options_data(self, symbol:str, strike:int, option_type:str, expiry:str=None, interval:str='5m') -> Optional[pd.DataFrame]","    get_option_chain(self, symbol:str, indices:bool=True) -> Optional[pd.DataFrame]","    get_market_depth(self, symbol:str) -> Optional[Dict]","    get_corporate_actions(self, from_date:str=None, to_date:str=None, filter:str=None) -> Optional[pd.DataFrame]","    get_bulk_deals(self, from_date:str=None, to_date:str=None) -> Optional[pd.DataFrame]","    get_insider_trading(self, from_date:str=None, to_date:str=None) -> Optional[pd.DataFrame]","    get_complete_data(self, symbol:str) -> Dict[str, Any]"],"lines":258},"legacy/data_sources/nse_complete.py":{"path":"legacy/data_sources/nse_complete.py","role":"general","doc":"data_sources/nse_complete.py","imports":["base_source","datetime","logging","pandas","pathlib","sys","typing"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)","    __init__(self)","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> pd.DataFrame","    get_price_data(self, symbol:str) -> pd.DataFrame","    search(self, symbol:str, exchange='NSE', match:bool=False) -> pd.DataFrame","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    __getattr__(self, name)"],"lines":171},"legacy/data_sources/yahoo_finance.py":{"path":"legacy/data_sources/yahoo_finance.py","role":"general","doc":"Yahoo Finance API wrapper","imports":["base_source","datetime","logging","pandas","typing","yfinance"],"globals":[],"todos":[],"items":["class YahooFinance(DataSource)  # Yahoo Finance API wrapper.","    __init__(self)","    _get_ticker(self, symbol:str)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]"],"lines":97},"legacy/data_sources/screener_enhanced.py":{"path":"legacy/data_sources/screener_enhanced.py","role":"general","doc":"data_sources/screener_enhanced.py","imports":["base_source","bs4","io","logging","pandas","re","requests","typing"],"globals":[],"todos":[],"items":["class ScreenerEnhanced(DataSource)  # Enhanced Screener.in scraper with complete data extraction.","    __init__(self)","    _parse_number(self, value:Any) -> Optional[float]","    _get_company_page(self, symbol:str) -> Optional[BeautifulSoup]","    get_complete_data(self, symbol:str) -> Dict[str, Any]","    _extract_company_info(self, soup:BeautifulSoup, symbol:str) -> Dict","    _extract_key_metrics(self, soup:BeautifulSoup) -> Dict","    _extract_table(self, soup:BeautifulSoup, table_id:str, is_peers:bool=False) -> Optional[pd.DataFrame]","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> None"],"lines":127},"legacy/data_sources/base_source.py":{"path":"legacy/data_sources/base_source.py","role":"general","doc":"Abstract base class for all data sources","imports":["abc","logging","pandas","typing"],"globals":[],"todos":[],"items":["class DataSource(ABC)  # Base class for all data sources.","    __init__(self, name:str)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]","    test_connection(self) -> bool","    handle_error(self, error:Exception, context:str='') -> None"],"lines":53},"legacy/utils/data_status.py":{"path":"legacy/utils/data_status.py","role":"utility","doc":null,"imports":["logging","pandas","sqlite3","typing"],"globals":["DB_PATH","ALL_TABLES"],"todos":[],"items":["def get_db_manager() -> DatabaseManager","def fetch_table_statistics() -> List[Tuple[str, int, str, str]]"],"lines":114},"legacy/backups/refactor_20251028_001402/nse_complete.py":{"path":"legacy/backups/refactor_20251028_001402/nse_complete.py","role":"general","doc":"Complete NSE Data Source - Consolidated","imports":["base_source","data_sources","datetime","io","json","logging","pandas","pathlib","re","requests","sys","time","typing","zipfile"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)  # Complete NSE data source with all functionality consolidated.","    __init__(self)","    _initialize_session(self)","    get_complete_data(self, symbol:str) -> Dict[str, Any]"],"lines":1425},"legacy/backups/refactor_20251028_001034/nse_utils.py":{"path":"legacy/backups/refactor_20251028_001034/nse_utils.py","role":"utility","doc":null,"imports":["datetime","io","pandas","requests","zipfile"],"globals":[],"todos":[],"items":["class NseUtils","    __init__(self)","    pre_market_info(self, category='All')","    get_index_details(self, category, list_only=False)","    clearing_holidays(self, list_only=False)","    trading_holidays(self, list_only=False)","    is_nse_trading_holiday(self, date_str=None)","    is_nse_clearing_holiday(self, date_str=None)","    equity_info(self, symbol)","    price_info(self, symbol)","    futures_data(self, symbol, indices=False)","    get_option_chain(self, symbol, indices=False)","    get_52week_high_low(self, stock=None)","    fno_bhav_copy(self, trade_date:str='')","    bhav_copy_with_delivery(self, trade_date:str)","    equity_bhav_copy(self, trade_date:str)","    bhav_copy_indices(self, trade_date:str)","    fii_dii_activity(self)","    get_live_option_chain(self, symbol:str, expiry_date:str=None, oi_mode:str='full', indices=False)","    get_market_depth(self, symbol)","    get_index_historic_data(self, index:str, from_date:str=None, to_date:str=None)","    get_index_data(self, index:str, from_date:str, to_date:str)","    get_equity_full_list(self, list_only=False)","    get_fno_full_list(self, list_only=False)","    get_gainers_losers(self)","    get_corporate_action(self, from_date_str:str=None, to_date_str:str=None, filter:str=None)","    get_corporate_announcement(self, from_date_str:str=None, to_date_str:str=None)","    get_index_pe_ratio(self)","    get_index_pb_ratio(self)","    get_index_div_yield(self)","    get_advance_decline(self)","    most_active_equity_stocks_by_volume(self)","    most_active_equity_stocks_by_value(self)","    most_active_index_calls(self)","    most_active_index_puts(self)","    most_active_stock_calls(self)","    most_active_stock_puts(self)","    most_active_contracts_by_oi(self)","    most_active_contracts_by_volume(self)","    most_active_futures_contracts_by_volume(self)","    most_active_options_contracts_by_volume(self)","    get_insider_trading(self, from_date:str=None, to_date:str=None)","    get_upcoming_results_calendar(self)","    get_etf_list(self)","    get_bulk_deals(self, from_date:str=None, to_date:str=None)","    get_block_deals(self, from_date:str=None, to_date:str=None)","    get_short_selling(self, from_date:str=None, to_date:str=None)"],"lines":1185},"legacy/backups/refactor_20251028_001034/nse_complete.py":{"path":"legacy/backups/refactor_20251028_001034/nse_complete.py","role":"general","doc":"Complete NSE data source combining NseUtils + NSEMasterData","imports":["base_source","datetime","logging","nse_master_data","nse_utils","pandas","pathlib","sys","typing"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)  # Complete NSE data source using:","    __init__(self)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]","    get_intraday_data(self, symbol:str, interval:str='5m') -> Optional[pd.DataFrame]","    get_futures_data(self, symbol:str, expiry:str=None, period:str='1m', interval:str='1d') -> Optional[pd.DataFrame]","    get_options_data(self, symbol:str, strike:int, option_type:str, expiry:str=None, interval:str='5m') -> Optional[pd.DataFrame]","    get_option_chain(self, symbol:str, indices:bool=True) -> Optional[pd.DataFrame]","    get_market_depth(self, symbol:str) -> Optional[Dict]","    get_corporate_actions(self, from_date:str=None, to_date:str=None, filter:str=None) -> Optional[pd.DataFrame]","    get_bulk_deals(self, from_date:str=None, to_date:str=None) -> Optional[pd.DataFrame]","    get_insider_trading(self, from_date:str=None, to_date:str=None) -> Optional[pd.DataFrame]","    get_complete_data(self, symbol:str) -> Dict[str, Any]"],"lines":258},"legacy/backups/refactor_20251028_001034/nse_master_data.py":{"path":"legacy/backups/refactor_20251028_001034/nse_master_data.py","role":"general","doc":null,"imports":["datetime","json","pandas","re","requests","time"],"globals":[],"todos":[],"items":["class NSEMasterData","    __init__(self)","    search(self, symbol, exchange, match=False)","    get_nse_symbol_master(self, url)","    download_symbol_master(self)","    search_symbol(self, symbol, exchange)","    get_history(self, symbol='Nifty 50', exchange='NSE', start=None, end=None, interval='1d')"],"lines":306},"legacy/backups/refactor_20251028_001446/nse_complete.py":{"path":"legacy/backups/refactor_20251028_001446/nse_complete.py","role":"general","doc":"Complete NSE Data Source - Consolidated","imports":["base_source","data_sources","datetime","io","json","logging","pandas","pathlib","re","requests","sys","time","typing","zipfile"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)  # Complete NSE data source with all functionality consolidated.","    __init__(self)","    _initialize_session(self)","    get_complete_data(self, symbol:str) -> Dict[str, Any]"],"lines":1425},"legacy/core/__init__.py":{"path":"legacy/core/__init__.py","role":"general","doc":"Core utilities package","imports":["cache_manager","rate_limiter"],"globals":[],"todos":[],"items":[],"lines":8},"legacy/core/cache_manager.py":{"path":"legacy/core/cache_manager.py","role":"general","doc":"Intelligent caching system with TTL and persistence","imports":["datetime","hashlib","logging","pathlib","pickle","typing"],"globals":[],"todos":[],"items":["class CacheManager  # Multi-layer cache system with TTL.","    __init__(self, enabled:bool=True, cache_dir:str='.cache')","    _get_cache_key(self, key:str) -> str","    _get_cache_file(self, key:str) -> Path","    get(self, key:str) -> Optional[Any]","    set(self, key:str, value:Any, ttl:int=3600)","    clear(self)","    get_stats(self) -> dict"],"lines":131},"legacy/core/data_merger.py":{"path":"legacy/core/data_merger.py","role":"general","doc":"Data merging and validation utilities","imports":["logging","pandas","typing"],"globals":[],"todos":[],"items":["class DataMerger  # Intelligent data merging with conflict resolution.","    merge_price_data(sources:List[Dict[str, Any]], priority:List[str]) -> Dict[str, Any]","    validate_price_data(data:Dict[str, Any]) -> Dict[str, Any]","class DataQualityChecker  # Check data quality and completeness.","    assess_quality(data:Dict[str, Any]) -> Dict[str, Any]","    _get_grade(score:float) -> str"],"lines":102},"legacy/core/model_data_prep.py":{"path":"legacy/core/model_data_prep.py","role":"model","doc":"Model Data Preparation Engine","imports":["datetime","logging","numpy","pandas","typing"],"globals":[],"todos":[],"items":["class ModelDataPrep  # Prepare data for financial models","    __init__(self, nse, db)","    prepare_price_prediction_data(self, symbol:str, lookback_days:int=365) -> Dict","    prepare_volatility_model_data(self, symbol:str, lookback_days:int=180) -> Dict","    prepare_sentiment_data(self, symbol:str, lookback_days:int=90) -> Dict","    prepare_portfolio_data(self, symbols:List[str], lookback_days:int=365) -> Dict","    prepare_options_trading_data(self, symbol:str, expiry:Optional[str]=None) -> Dict","    prepare_event_driven_data(self, symbol:str, lookback_days:int=180) -> Dict","    _calculate_quality_score(self, quality_dict:Dict) -> float","    export_for_talib(self, price_history:pd.DataFrame) -> Dict"],"lines":652},"legacy/core/rate_limiter.py":{"path":"legacy/core/rate_limiter.py","role":"general","doc":"Rate limiting to prevent API throttling","imports":["collections","logging","threading","time"],"globals":[],"todos":[],"items":["class RateLimiter  # Token bucket rate limiter.","    __init__(self, calls_per_minute:int=30)","    wait_if_needed(self)"],"lines":43},"legacy/core/hybrid_aggregator.py":{"path":"legacy/core/hybrid_aggregator.py","role":"general","doc":"Hybrid data aggregator combining all sources","imports":["concurrent","config","core","data_sources","datetime","logging","pandas","pathlib","sys","typing"],"globals":[],"todos":[],"items":["class HybridAggregator  # Intelligent data aggregator combining multiple sources.","    __init__(self, use_cache:bool=True)","    _test_sources(self)","    get_stock_data(self, symbol:str, include_historical:bool=True) -> Dict[str, Any]","    get_fundamental_data(self, symbol:str) -> Dict[str, Any]","    get_complete_analysis(self, symbol:str) -> Dict[str, Any]","    _fetch_from_source(self, symbol:str, source_name:str) -> Dict","    _merge_data(self, symbol:str, raw_data:Dict) -> Dict","    _merge_company_info(self, raw_data:Dict) -> Dict","    _merge_price_data(self, raw_data:Dict) -> Optional[Dict]","    _select_best_historical(self, raw_data:Dict) -> Dict","    get_quick_quote(self, symbol:str) -> Optional[Dict]","    batch_fetch(self, symbols:List[str], max_workers:int=5) -> Dict[str, Dict]"],"lines":402},"legacy/core/mtf_manager.py":{"path":"legacy/core/mtf_manager.py","role":"general","doc":"Multi-Timeframe (MTF) Data Manager","imports":["datetime","logging","numpy","pandas","pathlib","sqlite3","typing"],"globals":[],"todos":[],"items":["class TimeFrame  # Timeframe definitions and conversions","    get_minutes(cls, timeframe:str) -> int","    get_higher_timeframe(cls, timeframe:str) -> Optional[str]","    get_lower_timeframe(cls, timeframe:str) -> Optional[str]","class MTFDataManager  # Multi-Timeframe Data Manager","    __init__(self, db_manager, nse_source)","    get_mtf_data(self, symbol:str, timeframes:List[str], lookback_days:int=30) -> Dict[str, pd.DataFrame]","    _get_timeframe_data(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _get_daily_plus_data(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _get_intraday_data(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _fetch_from_nse(self, symbol:str, interval:str, lookback_days:int) -> Optional[pd.DataFrame]","    _get_intraday_from_db(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _save_intraday_to_db(self, symbol:str, timeframe:str, df:pd.DataFrame)","    _resample_ohlcv(self, df:pd.DataFrame, rule:str) -> pd.DataFrame","    _resample_to_timeframe(self, df:pd.DataFrame, target_timeframe:str) -> pd.DataFrame","    align_mtf_data(self, mtf_data:Dict[str, pd.DataFrame], reference_tf:str='1d') -> Dict[str, pd.DataFrame]","    get_htf_value_at_ltf(self, htf_data:pd.DataFrame, ltf_timestamp:datetime, column:str='close')","    calculate_mtf_trend(self, mtf_data:Dict[str, pd.DataFrame], ma_period:int=20) -> Dict[str, str]","    is_mtf_aligned(self, mtf_data:Dict[str, pd.DataFrame], direction:str='UP', min_timeframes:int=3) -> bool","    validate_mtf_data(self, mtf_data:Dict[str, pd.DataFrame]) -> Dict[str, Dict]"],"lines":571},"legacy/examples/example_basic_usage.py":{"path":"legacy/examples/example_basic_usage.py","role":"general","doc":"Basic usage examples","imports":["core","pandas","pathlib","sys"],"globals":[],"todos":[],"items":["def example_single_stock()","def example_quick_quotes()","def example_batch_fetch()","def example_cache_performance()"],"lines":121},"legacy/examples/example_technical_analysis.py":{"path":"legacy/examples/example_technical_analysis.py","role":"general","doc":"Technical analysis examples using historical data","imports":["core","data_sources","numpy","pandas","pathlib","sys"],"globals":[],"todos":[],"items":["def calculate_moving_averages(df, periods=[20, 50, 200])","def calculate_rsi(df, period=14)","def example_moving_averages()","def example_intraday_analysis()","def example_rsi_analysis()"],"lines":138},"legacy/tests/test_data_sources.py":{"path":"legacy/tests/test_data_sources.py","role":"general","doc":null,"imports":["data_sources","pandas","tests","unittest"],"globals":[],"todos":[],"items":["class TestDataSources(unittest.TestCase)","    setUp(self)","    test_nse_complete_price_data(self, mock_get)","    test_nse_complete_historical_prices(self, mock_historic)","    test_screener_enhanced_fundamental(self, mock_get)"],"lines":38},"legacy/tests/test_core_modules.py":{"path":"legacy/tests/test_core_modules.py","role":"general","doc":null,"imports":["core","pandas","tests","time","unittest"],"globals":[],"todos":[],"items":["class TestCoreModules(unittest.TestCase)","    test_cache_manager_set_get(self)","    test_rate_limiter_wait(self)","    test_data_merger_price_priority(self)","    test_hybrid_aggregator_call_flow(self, mock_fetch, mock_quality)"],"lines":67},"legacy/tests/conftest.py":{"path":"legacy/tests/conftest.py","role":"general","doc":null,"imports":["datetime","pandas","unittest"],"globals":["MOCK_NSE_PRICE_DATA","MOCK_HISTORICAL_DF"],"todos":[],"items":["def mock_requests_get()"],"lines":38},"legacy/tests/test_screener_enhanced.py":{"path":"legacy/tests/test_screener_enhanced.py","role":"general","doc":"Test enhanced Screener scraper - DEBUG VERSION","imports":["data_sources","logging","pandas"],"globals":[],"todos":[],"items":[],"lines":112},"legacy/tests/run_all_tests.py":{"path":"legacy/tests/run_all_tests.py","role":"general","doc":null,"imports":["pathlib","sys","unittest"],"globals":[],"todos":[],"items":["def main()"],"lines":24},"legacy/tests/test_database_mtf.py":{"path":"legacy/tests/test_database_mtf.py","role":"general","doc":null,"imports":["core","database","pandas","tests","unittest"],"globals":[],"todos":[],"items":["class TestDatabaseAndMTF(unittest.TestCase)","    setUp(self)","    test_db_manager_add_and_get_company(self)","    test_db_manager_save_and_load_price_data(self)","    test_timeframe_resample_ohlcv(self)","    test_mtf_manager_timeframe_conversions(self)"],"lines":51},"legacy/tests/test_data_sources/test_nse_complete_integration.py":{"path":"legacy/tests/test_data_sources/test_nse_complete_integration.py","role":"general","doc":null,"imports":["data_sources","unittest"],"globals":[],"todos":[],"items":["class TestNSECompleteIntegration(unittest.TestCase)","    test_get_complete_data(self, mock_bhav, mock_price)"],"lines":14},"legacy/tests/test_data_sources/test_yahoo_finance.py":{"path":"legacy/tests/test_data_sources/test_yahoo_finance.py","role":"general","doc":null,"imports":["data_sources","unittest"],"globals":[],"todos":[],"items":["class FakeTicker","    info(self)","    history(self, period='1y', interval='1d')","class TestYahooFinance(unittest.TestCase)","    test_get_company_info(self, _)","    test_get_historical_prices(self, _)"],"lines":22},"legacy/tests/test_data_sources/test_screener_enhanced.py":{"path":"legacy/tests/test_data_sources/test_screener_enhanced.py","role":"general","doc":null,"imports":["data_sources","unittest"],"globals":[],"todos":[],"items":["class TestScreenerEnhanced(unittest.TestCase)","    test_get_complete_data(self, mock_page)"],"lines":14},"legacy/tests/test_data_sources/test_nse_complete_unit.py":{"path":"legacy/tests/test_data_sources/test_nse_complete_unit.py","role":"general","doc":null,"imports":["data_sources","unittest"],"globals":[],"todos":[],"items":["class TestNSECompleteUnit(unittest.TestCase)","    setUp(self)","    test_get_price_data(self, mock_price)","    test_get_option_chain(self, mock_chain)","    test_search_symbol(self, mock_search)"],"lines":26},"legacy/tests/test_data_sources/test_base_source.py":{"path":"legacy/tests/test_data_sources/test_base_source.py","role":"general","doc":null,"imports":["data_sources","unittest"],"globals":[],"todos":[],"items":["class Dummy(DataSource)","    __init__(self)","    get_company_info(self, symbol)","    get_price_data(self, symbol)","    get_historical_prices(self, symbol, period='1y', interval='1d')","    test_connection(self)","class TestBaseSource(unittest.TestCase)","    test_error_handling(self)"],"lines":17},"legacy/tests/test_core/test_model_data_prep.py":{"path":"legacy/tests/test_core/test_model_data_prep.py","role":"model","doc":null,"imports":["core","pandas","unittest"],"globals":[],"todos":[],"items":["class FakeNSE","    get_historical_prices(self, symbol, period='1y', interval='1d')","class FakeDB","    get_quarterly_results(self, symbol, limit=12)","    get_annual_results(self, symbol, limit=10)","    get_shareholding(self, symbol, limit=8)","class TestModelDataPrep(unittest.TestCase)","    setUp(self)","    test_prepare_price_prediction_data(self)"],"lines":22},"legacy/tests/test_core/test_mtf_manager.py":{"path":"legacy/tests/test_core/test_mtf_manager.py","role":"general","doc":null,"imports":["core","pandas","unittest"],"globals":[],"todos":[],"items":["class FakeDB","class FakeNSE","    get_intraday_data(self, symbol, interval='5m')","class TestMTFManager(unittest.TestCase)","    test_timeframe_conversions(self)","    test_get_mtf_data(self)"],"lines":20},"legacy/tests/test_core/test_rate_limiter.py":{"path":"legacy/tests/test_core/test_rate_limiter.py","role":"general","doc":null,"imports":["core","time","unittest"],"globals":[],"todos":[],"items":["class TestRateLimiter(unittest.TestCase)","    test_wait_if_needed(self)"],"lines":11},"legacy/tests/test_core/test_cache_manager.py":{"path":"legacy/tests/test_core/test_cache_manager.py","role":"general","doc":null,"imports":["core","pathlib","shutil","unittest"],"globals":[],"todos":[],"items":["class TestCacheManager(unittest.TestCase)","    setUp(self)","    tearDown(self)","    test_set_get_clear_stats(self)","    test_expiry(self)"],"lines":29},"legacy/tests/test_core/test_data_merger.py":{"path":"legacy/tests/test_core/test_data_merger.py","role":"general","doc":null,"imports":["core","unittest"],"globals":[],"todos":[],"items":["class TestDataMerger(unittest.TestCase)","    test_merge_price_data_priority(self)","    test_validate_price_data(self)","class TestDataQualityChecker(unittest.TestCase)","    test_assess_quality(self)"],"lines":22},"legacy/tests/test_core/test_hybrid_aggregator.py":{"path":"legacy/tests/test_core/test_hybrid_aggregator.py","role":"general","doc":null,"imports":["core","unittest"],"globals":[],"todos":[],"items":["class TestHybridAggregator(unittest.TestCase)","    test_get_stock_data(self, mock_yf_hist, mock_screener, mock_nse_price)","    test_batch_fetch(self)"],"lines":24},"legacy/tests/test_database/test_db_manager.py":{"path":"legacy/tests/test_database/test_db_manager.py","role":"data","doc":null,"imports":["database","os","pandas","tempfile","unittest"],"globals":[],"todos":[],"items":["class TestDatabaseManager(unittest.TestCase)","    setUp(self)","    tearDown(self)","    test_add_and_get_company(self)","    test_price_history_roundtrip(self)"],"lines":25},"legacy/tests/test_database/test_schema.py":{"path":"legacy/tests/test_database/test_schema.py","role":"model","doc":null,"imports":["database","unittest"],"globals":[],"todos":[],"items":["class TestSchema(unittest.TestCase)","    test_schema_has_core_tables(self)"],"lines":8},"legacy/tests/test_database/test_updater.py":{"path":"legacy/tests/test_database/test_updater.py","role":"general","doc":null,"imports":["database","unittest"],"globals":[],"todos":[],"items":["class TestDataUpdater(unittest.TestCase)","    test_update_stock(self, mock_analysis)"],"lines":18},"legacy/tests/_helpers/temp_dirs.py":{"path":"legacy/tests/_helpers/temp_dirs.py","role":"utility","doc":null,"imports":["shutil","tempfile"],"globals":[],"todos":[],"items":["class TempDir","    __init__(self)","    cleanup(self)"],"lines":10},"legacy/tests/_helpers/mock_responses.py":{"path":"legacy/tests/_helpers/mock_responses.py","role":"utility","doc":null,"imports":["datetime","pandas"],"globals":[],"todos":[],"items":["def mock_nse_price_info(symbol='TCS')","def mock_nse_option_chain(symbol='NIFTY', indices=True)","def mock_yf_history(days=30)","def mock_screener_company_page(symbol='TCS')"],"lines":30},"legacy/tests/_helpers/fake_dataframes.py":{"path":"legacy/tests/_helpers/fake_dataframes.py","role":"utility","doc":null,"imports":["pandas"],"globals":[],"todos":[],"items":["def sample_price_history(symbol='TCS', rows=5)","def sample_intraday(symbol='TCS', rows=10, interval='5m')"],"lines":14},"legacy/tests/_helpers/fake_streamlit.py":{"path":"legacy/tests/_helpers/fake_streamlit.py","role":"utility","doc":null,"imports":[],"globals":[],"todos":[],"items":["class FakeStreamlit","    __getattr__(self, name)"],"lines":8},"legacy/tests/test_examples/test_example_basic_usage.py":{"path":"legacy/tests/test_examples/test_example_basic_usage.py","role":"general","doc":null,"imports":["examples","unittest"],"globals":[],"todos":[],"items":["class TestExamplesBasic(unittest.TestCase)","    test_example_single_stock(self, _)"],"lines":9},"legacy/tests/test_examples/test_example_technical_analysis.py":{"path":"legacy/tests/test_examples/test_example_technical_analysis.py","role":"general","doc":null,"imports":["examples","pandas","unittest"],"globals":[],"todos":[],"items":["class TestExamplesTA(unittest.TestCase)","    test_calculate_rsi(self)"],"lines":9},"legacy/tests/test_misc/test_validate_data.py":{"path":"legacy/tests/test_misc/test_validate_data.py","role":"general","doc":null,"imports":["pandas","unittest","validate_data"],"globals":[],"todos":[],"items":["class TestValidateData(unittest.TestCase)","    test_validate_ohlcv(self)"],"lines":10},"legacy/tests/test_misc/test_structure_scripts.py":{"path":"legacy/tests/test_misc/test_structure_scripts.py","role":"general","doc":null,"imports":["structure","unittest"],"globals":[],"todos":[],"items":["class TestStructureScripts(unittest.TestCase)","    test_find_project_root(self)","    test_scan_python_files(self)"],"lines":11},"legacy/tests/test_misc/test_unified_exporter.py":{"path":"legacy/tests/test_misc/test_unified_exporter.py","role":"general","doc":null,"imports":["pandas","unified_exporter","unittest"],"globals":[],"todos":[],"items":["class TestUnifiedExporter(unittest.TestCase)","    test_export_to_excel(self, _)"],"lines":18},"legacy/tests/test_dashboard/test_app.py":{"path":"legacy/tests/test_dashboard/test_app.py","role":"general","doc":null,"imports":["dashboard","unittest"],"globals":[],"todos":[],"items":["class TestDashboardApp(unittest.TestCase)","    test_validate_nse_symbol(self, mock_get_nse)"],"lines":11},"legacy/tests/test_dashboard/test_components.py":{"path":"legacy/tests/test_dashboard/test_components.py","role":"general","doc":null,"imports":["dashboard","pandas","unittest"],"globals":[],"todos":[],"items":["class TestComponents(unittest.TestCase)","    test_render_quarterly_results(self)"],"lines":9},"legacy/tests/test_dashboard/test_utils.py":{"path":"legacy/tests/test_dashboard/test_utils.py","role":"utility","doc":null,"imports":["dashboard","datetime","unittest"],"globals":[],"todos":[],"items":["class TestUtils(unittest.TestCase)","    test_currency(self)","    test_time_ago(self)"],"lines":12},"legacy/tests/test_dashboard/test_pages.py":{"path":"legacy/tests/test_dashboard/test_pages.py","role":"general","doc":null,"imports":["dashboard","pandas","unittest"],"globals":[],"todos":[],"items":["class TestPages(unittest.TestCase)","    test_render_price_trend_chart(self, _)"],"lines":10},"legacy/external_libs/__init__.py":{"path":"legacy/external_libs/__init__.py","role":"general","doc":"External libraries package","imports":[],"globals":[],"todos":[],"items":[],"lines":3},"legacy/external_libs/nse_utils.py":{"path":"legacy/external_libs/nse_utils.py","role":"utility","doc":null,"imports":["datetime","io","pandas","requests","zipfile"],"globals":[],"todos":[],"items":["class NseUtils","    __init__(self)","    pre_market_info(self, category='All')","    get_index_details(self, category, list_only=False)","    clearing_holidays(self, list_only=False)","    trading_holidays(self, list_only=False)","    is_nse_trading_holiday(self, date_str=None)","    is_nse_clearing_holiday(self, date_str=None)","    equity_info(self, symbol)","    price_info(self, symbol)","    futures_data(self, symbol, indices=False)","    get_option_chain(self, symbol, indices=False)","    get_52week_high_low(self, stock=None)","    fno_bhav_copy(self, trade_date:str='')","    bhav_copy_with_delivery(self, trade_date:str)","    equity_bhav_copy(self, trade_date:str)","    bhav_copy_indices(self, trade_date:str)","    fii_dii_activity(self)","    get_live_option_chain(self, symbol:str, expiry_date:str=None, oi_mode:str='full', indices=False)","    get_market_depth(self, symbol)","    get_index_historic_data(self, index:str, from_date:str=None, to_date:str=None)","    get_index_data(self, index:str, from_date:str, to_date:str)","    get_equity_full_list(self, list_only=False)","    get_fno_full_list(self, list_only=False)","    get_gainers_losers(self)","    get_corporate_action(self, from_date_str:str=None, to_date_str:str=None, filter:str=None)","    get_corporate_announcement(self, from_date_str:str=None, to_date_str:str=None)","    get_index_pe_ratio(self)","    get_index_pb_ratio(self)","    get_index_div_yield(self)","    get_advance_decline(self)","    most_active_equity_stocks_by_volume(self)","    most_active_equity_stocks_by_value(self)","    most_active_index_calls(self)","    most_active_index_puts(self)","    most_active_stock_calls(self)","    most_active_stock_puts(self)","    most_active_contracts_by_oi(self)","    most_active_contracts_by_volume(self)","    most_active_futures_contracts_by_volume(self)","    most_active_options_contracts_by_volume(self)","    get_insider_trading(self, from_date:str=None, to_date:str=None)","    get_upcoming_results_calendar(self)","    get_etf_list(self)","    get_bulk_deals(self, from_date:str=None, to_date:str=None)","    get_block_deals(self, from_date:str=None, to_date:str=None)","    get_short_selling(self, from_date:str=None, to_date:str=None)"],"lines":1185},"legacy/external_libs/nse_master_data.py":{"path":"legacy/external_libs/nse_master_data.py","role":"general","doc":null,"imports":["datetime","json","pandas","re","requests","time"],"globals":[],"todos":[],"items":["class NSEMasterData","    __init__(self)","    get_nse_symbol_master(self, url)","    download_symbol_master(self)","    search(self, symbol, exchange, match=False)","    search_symbol(self, symbol, exchange)","    get_history(self, symbol='Nifty 50', exchange='NSE', start=None, end=None, interval='1d')"],"lines":181},"legacy/dashboard/__init__.py":{"path":"legacy/dashboard/__init__.py","role":"general","doc":"Dashboard package","imports":[],"globals":[],"todos":[],"items":[],"lines":3},"legacy/dashboard/app_v3.py":{"path":"legacy/dashboard/app_v3.py","role":"general","doc":"Fortune Trading Dashboard v3.6 - With Database Explorer","imports":["dashboard","datetime","pathlib","streamlit","sys"],"globals":[],"todos":[],"items":["def initialize_session_state()","def placeholder_page(page_name:str)","def render_system_status()","def main()","def render_footer()"],"lines":422},"legacy/dashboard/config.py":{"path":"legacy/dashboard/config.py","role":"config","doc":"Configuration settings for Fortune Trading Dashboard","imports":["os","pathlib"],"globals":["APP_NAME","VERSION","AUTHOR","PAGE_CONFIG","PAGES","PROJECT_ROOT","DB_PATH","DB_PATH_STR","BACKUP_DIR","DATA_DIR","CACHE_DIR","EXPORT_DIR","LOG_DIR","CACHE_TTL","CACHE_TTL_DETAILED","COLORS","CHART_COLORS","CANDLESTICK_COLORS","MODEL_TYPES","DEFAULT_TIMEFRAMES","MTF_TIMEFRAMES","POPULAR_STOCKS","STOCK_CATEGORIES","TECHNICAL_INDICATORS","CHART_HEIGHT","TABLE_HEIGHT","MAX_TABLE_ROWS","NUMBER_FORMAT","DATE_FORMAT","DATETIME_FORMAT","RATE_LIMIT","API_ENDPOINTS","ALERT_THRESHOLDS","NOTIFICATION_CHANNELS","DB_EXPLORER","VALIDATION_RULES","EXPORT_CONFIG","DEBUG","LOGGING","FEATURES"],"todos":[],"items":[],"lines":362},"legacy/dashboard/app.py":{"path":"legacy/dashboard/app.py","role":"general","doc":"Fortune Trading Dashboard - Professional Light Theme","imports":["data_sources","database","datetime","io","pandas","pathlib","plotly","sqlite3","streamlit","sys"],"globals":["POPULAR_NSE_STOCKS","SQL_EXAMPLES"],"todos":[],"items":["def get_database()","def get_updater()","def get_nse()","def validate_nse_symbol(symbol:str) -> bool","def download_historical_data(symbol:str, period:str, interval:str)","def download_intraday_data(symbol:str, interval:str)","def convert_df_to_csv(df)","def convert_df_to_excel(df)","def get_all_suggestions()","def execute_sql_query(query:str, db_path:str=None)"],"lines":1315},"legacy/dashboard/app_v3_copy.py":{"path":"legacy/dashboard/app_v3_copy.py","role":"general","doc":"Fortune Trading Dashboard v3.5 - Production Ready with MTF Analysis","imports":["dashboard","datetime","pathlib","streamlit","sys","time"],"globals":[],"todos":[],"items":["def get_dashboard_statistics()","def initialize_session_state()","def render_system_status()","def main()","def placeholder_page(page_name:str)","def render_footer()"],"lines":454},"legacy/dashboard/components/charts.py":{"path":"legacy/dashboard/components/charts.py","role":"general","doc":"Chart rendering components","imports":["dashboard","pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def render_price_chart(price_history:pd.DataFrame, symbol:str)","def render_shareholding_chart(shareholding:pd.DataFrame)"],"lines":128},"legacy/dashboard/components/metrics.py":{"path":"legacy/dashboard/components/metrics.py","role":"general","doc":"Metric display components","imports":["dashboard","pandas","streamlit"],"globals":[],"todos":[],"items":["def render_metrics_row(metrics:dict)"],"lines":43},"legacy/dashboard/components/navigation.py":{"path":"legacy/dashboard/components/navigation.py","role":"general","doc":"Navigation components","imports":["streamlit"],"globals":[],"todos":[],"items":["def render_navigation()"],"lines":62},"legacy/dashboard/components/tables.py":{"path":"legacy/dashboard/components/tables.py","role":"general","doc":"Table display components","imports":["dashboard","pandas","streamlit"],"globals":[],"todos":[],"items":["def render_period_summary(snapshot:dict, last_update)","def render_quarterly_results(quarterly:pd.DataFrame)","def render_peer_comparison(peers:pd.DataFrame)"],"lines":73},"legacy/dashboard/utils/formatters.py":{"path":"legacy/dashboard/utils/formatters.py","role":"utility","doc":"Data Formatting Utilities - Financial Data Presentation","imports":["datetime","numpy","pandas","typing"],"globals":[],"todos":[],"items":["def safe_num(value:Any, default:float=0) -> float","def safe_format_currency(value:Any, decimals:int=2, default:str='N/A', symbol:str='\u20b9') -> str","def safe_format_percent(value:Any, decimals:int=2, default:str='N/A', include_sign:bool=False) -> str","def safe_format_number(value:Any, decimals:int=0, default:str='N/A', abbreviate:bool=False) -> str","def safe_get_dict_value(data:dict, key:str, default:str='N/A', format_func:Optional[callable]=None) -> Any","def format_time_ago(dt:Union[datetime, str, None]) -> str","def format_large_number(value:Any) -> str","def parse_indian_number(value:str) -> Optional[float]","def format_market_cap(value:Any) -> str","def color_code_change(value:float) -> str"],"lines":277},"legacy/dashboard/utils/data_loader.py":{"path":"legacy/dashboard/utils/data_loader.py","role":"utility","doc":"Data loading and caching utilities","imports":["data_sources","database","datetime","numpy","pandas","pathlib","streamlit","sys"],"globals":[],"todos":[],"items":["def get_database()","def get_nse()","def get_updater()","def load_stock_data(symbol:str)","def calculate_metrics(price_history:pd.DataFrame, snapshot:dict)"],"lines":131},"legacy/dashboard/styles/theme.py":{"path":"legacy/dashboard/styles/theme.py","role":"general","doc":"Fortune Trading Dashboard - Dark Theme CSS","imports":[],"globals":["DARK_THEME_CSS"],"todos":[],"items":[],"lines":475},"legacy/dashboard/pages/portfolio.py":{"path":"legacy/dashboard/pages/portfolio.py","role":"general","doc":"Portfolio page - Holdings and performance","imports":["pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def portfolio_page()"],"lines":38},"legacy/dashboard/pages/database_explorer.py":{"path":"legacy/dashboard/pages/database_explorer.py","role":"general","doc":"Database Explorer - View and query database directly from dashboard","imports":["datetime","json","pandas","pathlib","sqlite3","streamlit"],"globals":[],"todos":[],"items":["def database_explorer_page()","def browse_tables_tab(conn)","def display_table_data(conn, table_name)","def sql_query_tab(conn)","def schema_viewer_tab(conn)","def quick_stats_tab(conn)"],"lines":552},"legacy/dashboard/pages/data_manager.py":{"path":"legacy/dashboard/pages/data_manager.py","role":"general","doc":"Data Manager Page - With Stock Symbol Validation","imports":["dashboard","datetime","logging","pandas","streamlit","time","typing"],"globals":[],"todos":[],"items":["def render_html_table(df:pd.DataFrame, height:int=None) -> str","def validate_stock_symbol(symbol:str, nse) -> Tuple[bool, str, Dict]","def batch_validate_symbols(symbols:List[str], nse) -> Dict[str, Tuple[bool, str, Dict]]","def get_safe_update_summary(db) -> pd.DataFrame","def get_sector_statistics(db) -> Dict[str, int]","def get_data_freshness_distribution(db, companies:List[Dict]) -> Dict[str, int]","def data_manager_page()","def add_new_stock_tab(db, updater, nse)","def add_and_download_stocks(symbols:List[str], existing:List[str], db, updater)","def download_data_tab(db, updater)","def update_database_tab(db, updater)","def database_stats_tab(db)","def update_log_tab(db)","def download_stocks(symbols, force, delay, updater)","def update_all_stocks(companies, updater)","def update_stale_stocks(hours, updater)","def show_summary(results)"],"lines":831},"legacy/dashboard/pages/research.py":{"path":"legacy/dashboard/pages/research.py","role":"general","doc":"Research Page - Stock screening and analysis","imports":["core","dashboard","datetime","pandas","re","streamlit","time","typing"],"globals":[],"todos":[],"items":["def research_page()","def screener_tab()","def run_screener(symbols:List[str], min_roe:float, max_pe:float, min_roce:float, min_div_yield:float)","def sector_analysis_tab()","def custom_research_tab()","def compare_stocks(symbols:List[str])","def extract_number(value:str) -> float"],"lines":229},"legacy/dashboard/pages/settings.py":{"path":"legacy/dashboard/pages/settings.py","role":"config","doc":"Settings Page - Application and database configuration","imports":["dashboard","datetime","pathlib","shutil","streamlit"],"globals":[],"todos":[],"items":["def settings_page()","def general_settings_tab()","def notifications_tab()","def database_management_tab()","def advanced_settings_tab()"],"lines":365},"legacy/dashboard/pages/analytics.py":{"path":"legacy/dashboard/pages/analytics.py","role":"general","doc":"Analytics Page - Stock Analysis Dashboard","imports":["dashboard","datetime","numpy","pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def analytics_page()","def render_price_trend_chart(price_history:pd.DataFrame, symbol:str)"],"lines":346},"legacy/dashboard/pages/trading.py":{"path":"legacy/dashboard/pages/trading.py","role":"general","doc":"Trading page - Order placement and positions","imports":["pandas","streamlit"],"globals":[],"todos":[],"items":["def trading_page()"],"lines":60},"legacy/dashboard/pages/models.py":{"path":"legacy/dashboard/pages/models.py","role":"model","doc":"Financial Models Page","imports":["core","dashboard","datetime","json","pandas","streamlit"],"globals":[],"todos":[],"items":["def models_page()","def price_prediction_tab(model_prep, db)","def volatility_models_tab(model_prep, db)","def sentiment_analysis_tab(model_prep, db)","def event_driven_tab(model_prep, db)","def portfolio_optimization_tab(model_prep, db)","def options_trading_tab(model_prep, db)","def display_model_data(data:dict, model_type:str)"],"lines":416},"legacy/dashboard/pages/mtf_analysis.py":{"path":"legacy/dashboard/pages/mtf_analysis.py","role":"general","doc":"Multi-Timeframe Analysis Page","imports":["core","dashboard","datetime","pandas","plotly","streamlit"],"globals":[],"todos":[],"items":["def mtf_analysis_page()","def display_mtf_analysis(mtf_data:dict, symbol:str, chart_type:str, mtf_manager:MTFDataManager)","def render_timeframe_chart(df:pd.DataFrame, symbol:str, timeframe:str, chart_type:str, trend:str)"],"lines":273},"legacy/database/__init__.py":{"path":"legacy/database/__init__.py","role":"data","doc":"Database package initializer.","imports":["db_manager","updater"],"globals":[],"todos":[],"items":[],"lines":9},"legacy/database/updater.py":{"path":"legacy/database/updater.py","role":"data","doc":"Data Updater - Fetches data from sources and stores in database","imports":["core","datetime","db_manager","logging","re","time","typing"],"globals":[],"todos":[],"items":["class DataUpdater  # Update database with fresh data from all sources.","    __init__(self, db_path:str='stock_data.db')","    update_stock(self, symbol:str, force:bool=False) -> Dict[str, any]","    _update_company_info(self, symbol:str, data:Dict)","    _update_snapshot(self, symbol:str, data:Dict)","    _update_price_history(self, symbol:str, data:Dict) -> int","    _update_quarterly_results(self, symbol:str, data:Dict)","    _update_annual_results(self, symbol:str, data:Dict)","    _update_shareholding(self, symbol:str, data:Dict)","    _update_peers(self, symbol:str, data:Dict) -> int","    _update_corporate_actions(self, symbol:str, data:Dict)","    update_multiple(self, symbols:List[str], force:bool=False, delay:float=2.0) -> Dict[str, Dict]","    _print_batch_summary(self, results:Dict[str, Dict])","    update_stale_stocks(self, hours:int=24, max_stocks:int=None) -> Dict[str, Dict]","    update_sector(self, sector:str, force:bool=False) -> Dict[str, Dict]","    _extract_number(self, value) -> Optional[float]","    get_update_status(self) -> Dict"],"lines":448},"legacy/database/schema.py":{"path":"legacy/database/schema.py","role":"data","doc":"Complete NSE ML Database Schema","imports":[],"globals":["CREATE_TABLES","DROP_ALL_TABLES","ALL_TABLES","CORE_TABLES","ML_CRITICAL_TABLES","TABLE_CATEGORIES"],"todos":[],"items":[],"lines":1101},"legacy/database/db_manager.py":{"path":"legacy/database/db_manager.py","role":"data","doc":"SQLite Database Manager - Hybrid Schema","imports":["datetime","json","logging","pandas","pathlib","schema","sqlite3","typing"],"globals":[],"todos":[],"items":["class DatabaseManager  # Manage SQLite database operations with hybrid schema.","    __init__(self, db_path:str='stock_data.db')","    _initialize_db(self)","    _verify_schema(self)","    execute(self, query:str, params:tuple=None) -> sqlite3.Cursor","    executemany(self, query:str, params_list:List[tuple]) -> sqlite3.Cursor","    commit(self)","    rollback(self)","    begin_transaction(self)","    add_company(self, symbol:str, company_name:str=None, sector:str=None, industry:str=None, isin:str=None, listing_date:str=None)","    get_company(self, symbol:str) -> Optional[Dict]","    get_all_companies(self, sector:str=None) -> List[Dict]","    get_sectors(self) -> List[str]","    update_snapshot(self, symbol:str, data:Dict)","    get_snapshot(self, symbol:str) -> Optional[Dict]","    get_all_snapshots(self) -> pd.DataFrame","    save_price_history(self, symbol:str, df:pd.DataFrame)","    get_price_history(self, symbol:str, days:int=365, start_date:str=None, end_date:str=None) -> pd.DataFrame","    get_latest_price_date(self, symbol:str) -> Optional[datetime]","    save_quarterly_results(self, symbol:str, df:pd.DataFrame)","    get_quarterly_results(self, symbol:str, limit:int=12) -> pd.DataFrame","    save_annual_results(self, symbol:str, df:pd.DataFrame)","    get_annual_results(self, symbol:str, limit:int=10) -> pd.DataFrame","    save_shareholding(self, symbol:str, df:pd.DataFrame)","    get_shareholding(self, symbol:str, limit:int=8) -> pd.DataFrame","    save_peers(self, symbol:str, df:pd.DataFrame)","    get_peers(self, symbol:str) -> pd.DataFrame","    save_custom_metric(self, symbol:str, metric_name:str, metric_value:Any, metric_type:str='text', period:str=None, category:str='custom')","    get_custom_metrics(self, symbol:str, category:str=None, period:str=None) -> List[Dict]","    log_update(self, symbol:str, table_name:str, record_count:int=0, status:str='success', message:str=None, execution_time:float=None)","    get_last_update(self, symbol:str, table_name:str=None) -> Optional[datetime]","    get_update_summary(self) -> pd.DataFrame","    needs_update(self, symbol:str, hours:int=24) -> bool","    _parse_number(self, value) -> Optional[float]","    _parse_percentage(self, value) -> Optional[float]","    get_table_info(self, table_name:str) -> pd.DataFrame","    get_row_count(self, table_name:str) -> int","    get_database_stats(self) -> Dict","    vacuum(self)","    close(self)"],"lines":809},"backend/__init__.py":{"path":"backend/__init__.py","role":"general","doc":"Backend package","imports":[],"globals":[],"todos":[],"items":[],"lines":2},"backend/app/__init__.py":{"path":"backend/app/__init__.py","role":"general","doc":"Backend application package","imports":[],"globals":[],"todos":[],"items":[],"lines":2},"backend/app/main.py":{"path":"backend/app/main.py","role":"general","doc":null,"imports":["app","fastapi"],"globals":[],"todos":[],"items":[],"lines":25},"backend/app/data_sources/__init__.py":{"path":"backend/app/data_sources/__init__.py","role":"general","doc":"Data sources package","imports":["base_source","nse_complete"],"globals":[],"todos":[],"items":[],"lines":8},"backend/app/data_sources/nse_utils.py":{"path":"backend/app/data_sources/nse_utils.py","role":"utility","doc":null,"imports":["datetime","io","pandas","requests","zipfile"],"globals":[],"todos":[],"items":["class NseUtils","    __init__(self)","    pre_market_info(self, category='All')","    get_index_details(self, category, list_only=False)","    clearing_holidays(self, list_only=False)","    trading_holidays(self, list_only=False)","    is_nse_trading_holiday(self, date_str=None)","    is_nse_clearing_holiday(self, date_str=None)","    equity_info(self, symbol)","    price_info(self, symbol)","    futures_data(self, symbol, indices=False)","    get_option_chain(self, symbol, indices=False)","    get_52week_high_low(self, stock=None)","    fno_bhav_copy(self, trade_date:str='')","    bhav_copy_with_delivery(self, trade_date:str)","    equity_bhav_copy(self, trade_date:str)","    bhav_copy_indices(self, trade_date:str)","    fii_dii_activity(self)","    get_live_option_chain(self, symbol:str, expiry_date:str=None, oi_mode:str='full', indices=False)","    get_market_depth(self, symbol)","    get_index_historic_data(self, index:str, from_date:str=None, to_date:str=None)","    get_index_data(self, index:str, from_date:str, to_date:str)","    get_equity_full_list(self, list_only=False)","    get_fno_full_list(self, list_only=False)","    get_gainers_losers(self)","    get_corporate_action(self, from_date_str:str=None, to_date_str:str=None, filter:str=None)","    get_corporate_announcement(self, from_date_str:str=None, to_date_str:str=None)","    get_index_pe_ratio(self)","    get_index_pb_ratio(self)","    get_index_div_yield(self)","    get_advance_decline(self)","    most_active_equity_stocks_by_volume(self)","    most_active_equity_stocks_by_value(self)","    most_active_index_calls(self)","    most_active_index_puts(self)","    most_active_stock_calls(self)","    most_active_stock_puts(self)","    most_active_contracts_by_oi(self)","    most_active_contracts_by_volume(self)","    most_active_futures_contracts_by_volume(self)","    most_active_options_contracts_by_volume(self)","    get_insider_trading(self, from_date:str=None, to_date:str=None)","    get_upcoming_results_calendar(self)","    get_etf_list(self)","    get_bulk_deals(self, from_date:str=None, to_date:str=None)","    get_block_deals(self, from_date:str=None, to_date:str=None)","    get_short_selling(self, from_date:str=None, to_date:str=None)"],"lines":1185},"backend/app/data_sources/nse_complete_ORIGINAL.py":{"path":"backend/app/data_sources/nse_complete_ORIGINAL.py","role":"general","doc":"Complete NSE data source combining NseUtils + NSEMasterData","imports":["base_source","datetime","logging","nse_master_data","nse_utils","pandas","pathlib","sys","typing"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)  # Complete NSE data source using:","    __init__(self)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]","    get_intraday_data(self, symbol:str, interval:str='5m') -> Optional[pd.DataFrame]","    get_futures_data(self, symbol:str, expiry:str=None, period:str='1m', interval:str='1d') -> Optional[pd.DataFrame]","    get_options_data(self, symbol:str, strike:int, option_type:str, expiry:str=None, interval:str='5m') -> Optional[pd.DataFrame]","    get_option_chain(self, symbol:str, indices:bool=True) -> Optional[pd.DataFrame]","    get_market_depth(self, symbol:str) -> Optional[Dict]","    get_corporate_actions(self, from_date:str=None, to_date:str=None, filter:str=None) -> Optional[pd.DataFrame]","    get_bulk_deals(self, from_date:str=None, to_date:str=None) -> Optional[pd.DataFrame]","    get_insider_trading(self, from_date:str=None, to_date:str=None) -> Optional[pd.DataFrame]","    get_complete_data(self, symbol:str) -> Dict[str, Any]"],"lines":258},"backend/app/data_sources/nse_complete.py":{"path":"backend/app/data_sources/nse_complete.py","role":"general","doc":"data_sources/nse_complete.py","imports":["base_source","core","datetime","logging","pandas","typing","yfinance"],"globals":[],"todos":[],"items":["class NSEComplete(DataSource)","    __init__(self)","    nse_master(self)","    _get_nse_ticker(self, symbol:str) -> str","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d', source:str='auto') -> pd.DataFrame","    _get_nse_historical(self, symbol:str, period:str, interval:str) -> pd.DataFrame","    _get_yahoo_historical(self, symbol:str, period:str, interval:str) -> pd.DataFrame","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Dict[str, Any]","class ScreenerMapper  # Field mapping for Screener.in data source","    normalize_key_metrics(metrics_dict:dict) -> dict","    search(self, symbol:str, exchange='NSE', match:bool=False) -> pd.DataFrame","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    test_connection(self)"],"lines":303},"backend/app/data_sources/yahoo_finance.py":{"path":"backend/app/data_sources/yahoo_finance.py","role":"general","doc":"Yahoo Finance API wrapper","imports":["base_source","datetime","logging","pandas","typing","yfinance"],"globals":[],"todos":[],"items":["class YahooFinance(DataSource)  # Yahoo Finance API wrapper.","    __init__(self)","    _get_ticker(self, symbol:str)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]"],"lines":97},"backend/app/data_sources/screener_enhanced.py":{"path":"backend/app/data_sources/screener_enhanced.py","role":"general","doc":"data_sources/screener_enhanced.py","imports":["base_source","bs4","core","io","logging","pandas","re","requests","typing"],"globals":[],"todos":[],"items":["class ScreenerEnhanced(DataSource)  # Enhanced Screener.in scraper with complete data extraction.","    __init__(self)","    _parse_number(self, value:Any) -> Optional[float]","    _get_company_page(self, symbol:str) -> Optional[BeautifulSoup]","    _get_warehouse_id(self, soup:BeautifulSoup) -> Optional[str]","    get_complete_data(self, symbol:str) -> Dict[str, Any]","    _extract_company_info(self, soup:BeautifulSoup, symbol:str) -> Dict","    _extract_key_metrics(self, soup:BeautifulSoup) -> Dict","    _extract_table(self, soup:BeautifulSoup, table_id:str, is_peers:bool=False) -> Optional[pd.DataFrame]","    _extract_peers_via_api(self, warehouse_id:str) -> Optional[pd.DataFrame]","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> pd.DataFrame"],"lines":222},"backend/app/data_sources/nse_derivatives.py":{"path":"backend/app/data_sources/nse_derivatives.py","role":"general","doc":"data_sources/nse_derivatives.py","imports":["base_source","datetime","logging","nselib","pandas","requests","typing","yfinance"],"globals":[],"todos":["# TODO: Implement when reliable source available"],"items":["class NSEDerivatives(DataSource)  # Data source for NSE Derivatives, Institutional Activity, and Market Stats.","    __init__(self)","    get_fii_dii_activity(self) -> Optional[Dict[str, Any]]","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]","    get_market_breadth(self) -> Optional[Dict[str, int]]","    _parse_float(self, val)","    get_option_chain(self, symbol:str)"],"lines":184},"backend/app/data_sources/base_source.py":{"path":"backend/app/data_sources/base_source.py","role":"general","doc":"Abstract base class for all data sources","imports":["abc","logging","pandas","typing"],"globals":[],"todos":[],"items":["class DataSource(ABC)  # Base class for all data sources.","    __init__(self, name:str)","    get_company_info(self, symbol:str) -> Optional[Dict[str, Any]]","    get_price_data(self, symbol:str) -> Optional[Dict[str, Any]]","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]","    test_connection(self) -> bool","    handle_error(self, error:Exception, context:str='') -> None"],"lines":53},"backend/app/data_sources/base.py":{"path":"backend/app/data_sources/base.py","role":"general","doc":null,"imports":["abc","pandas","typing"],"globals":[],"todos":[],"items":["class DataSource(ABC)  # Abstract base class for all data sources (NSE, Yahoo, Screener, etc.)","    __init__(self, name:str)"],"lines":30},"backend/app/data_sources/nse_master_data.py":{"path":"backend/app/data_sources/nse_master_data.py","role":"general","doc":"NSE Master Data","imports":["datetime","json","logging","pandas","re","requests","time"],"globals":[],"todos":[],"items":["class NSEMasterData  # NSE Master Data class for fetching NSE symbols and historical data","    __init__(self)","    search(self, symbol, exchange='NSE', match=False)","    get_nse_symbol_master(self, url)","    download_symbol_master(self)","    search_symbol(self, symbol, exchange='NSE')","    get_history(self, symbol='Nifty 50', exchange='NSE', start=None, end=None, interval='1d')"],"lines":226},"backend/app/data_sources/nse_source.py":{"path":"backend/app/data_sources/nse_source.py","role":"general","doc":null,"imports":["app","httpx","logging","pandas","typing"],"globals":[],"todos":[],"items":["class NSESource(DataSource)  # NSE India data source with cookie and session management","    __init__(self)"],"lines":49},"backend/app/data_sources/screener_source.py":{"path":"backend/app/data_sources/screener_source.py","role":"general","doc":null,"imports":["app","bs4","httpx","logging","pandas"],"globals":[],"todos":[],"items":["class ScreenerSource(DataSource)  # Screener.in HTML scraper for detailed fundamental data","    __init__(self)","    _parse_soup(self, soup:BeautifulSoup) -> dict"],"lines":42},"backend/app/services/recommendation_service.py":{"path":"backend/app/services/recommendation_service.py","role":"service","doc":null,"imports":["data_sources","database","datetime","derivatives_analyzer","fundamental_analysis","logging","market_regime","mtf_analyzer","pandas","screener_engine","signal_generator","technical_analysis","typing"],"globals":[],"todos":["# TODO: Add get_latest_option_chain to DB Manager"],"items":["class RecommendationService  # Orchestrates Fundamental and Technical analysis to generate stock recommendation","    __init__(self, db_path:str='stock_data.db')","    _load_fundamental_data(self)","    generate_recommendations(self, strategy:str='balanced', limit:int=10) -> List[Dict]","    _generate_explanation(self, symbol, tech, fund, deriv, regime, score, action)","    _apply_fundamental_filters(self, strategy:str) -> List[str]","    _calculate_fundamental_score(self, symbol:str, strategy:str) -> tuple[float, Dict]","    _calculate_technical_score(self, symbol:str) -> tuple[float, Dict, List[Dict]]","    _calculate_fundamental_score(self, symbol:str, strategy:str) -> tuple[float, Dict]","    _calculate_derivatives_score(self, symbol:str) -> tuple[float, Dict]","    _calculate_regime_score(self) -> tuple[float, Dict]","    _get_weights(self, strategy:str)","    _determine_action(self, score:float) -> str"],"lines":348},"backend/app/services/__init__.py":{"path":"backend/app/services/__init__.py","role":"service","doc":"Services package","imports":[],"globals":[],"todos":[],"items":[],"lines":2},"backend/app/services/market_regime.py":{"path":"backend/app/services/market_regime.py","role":"service","doc":null,"imports":["pandas","technical_analysis","typing"],"globals":[],"todos":[],"items":["class MarketRegime  # Analyzes Market Condition (Trend vs Range).","    __init__(self, index_df:pd.DataFrame)","    determine_regime(self) -> Dict[str, Any]"],"lines":58},"backend/app/services/backtester.py":{"path":"backend/app/services/backtester.py","role":"service","doc":null,"imports":["pandas","typing"],"globals":[],"todos":[],"items":["class Backtester  # PILLAR 3: Decision Engine (D) - Backtesting Framework","    __init__(self, initial_capital:float=1000000)","    run(self, df:pd.DataFrame, signals:pd.Series) -> Dict[str, Any]"],"lines":32},"backend/app/services/mtf_analyzer.py":{"path":"backend/app/services/mtf_analyzer.py","role":"service","doc":"Multi-Timeframe (MTF) Data Manager","imports":["datetime","logging","numpy","pandas","pathlib","sqlite3","typing"],"globals":[],"todos":[],"items":["class TimeFrame  # Timeframe definitions and conversions","    get_minutes(cls, timeframe:str) -> int","    get_higher_timeframe(cls, timeframe:str) -> Optional[str]","    get_lower_timeframe(cls, timeframe:str) -> Optional[str]","class MTFDataManager  # Multi-Timeframe Data Manager","    __init__(self, db_manager, nse_source)","    get_mtf_data(self, symbol:str, timeframes:List[str], lookback_days:int=30) -> Dict[str, pd.DataFrame]","    _get_timeframe_data(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _get_daily_plus_data(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _get_intraday_data(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _fetch_from_nse(self, symbol:str, interval:str, lookback_days:int) -> Optional[pd.DataFrame]","    _get_intraday_from_db(self, symbol:str, timeframe:str, lookback_days:int) -> Optional[pd.DataFrame]","    _save_intraday_to_db(self, symbol:str, timeframe:str, df:pd.DataFrame)","    _resample_ohlcv(self, df:pd.DataFrame, rule:str) -> pd.DataFrame","    _resample_to_timeframe(self, df:pd.DataFrame, target_timeframe:str) -> pd.DataFrame","    align_mtf_data(self, mtf_data:Dict[str, pd.DataFrame], reference_tf:str='1d') -> Dict[str, pd.DataFrame]","    get_htf_value_at_ltf(self, htf_data:pd.DataFrame, ltf_timestamp:datetime, column:str='close')","    calculate_mtf_trend(self, mtf_data:Dict[str, pd.DataFrame], ma_period:int=20) -> Dict[str, str]","    is_mtf_aligned(self, mtf_data:Dict[str, pd.DataFrame], direction:str='UP', min_timeframes:int=3) -> bool","    validate_mtf_data(self, mtf_data:Dict[str, pd.DataFrame]) -> Dict[str, Dict]"],"lines":571},"backend/app/services/nse_utils_wrapper.py":{"path":"backend/app/services/nse_utils_wrapper.py","role":"service","doc":null,"imports":["core","data_sources","logging","pandas","typing"],"globals":[],"todos":[],"items":["class NseUtilsWrapper(DataSource)  # Wrapper for NseUtils to align with DataSource interface and provide normalized d","    __init__(self)","    get_price_data(self, symbol:str) -> Dict[str, Any]","    get_company_info(self, symbol:str) -> Dict[str, Any]","    get_option_chain(self, symbol:str, indices:bool=False) -> Optional[Any]","    get_corporate_actions(self, symbol:Optional[str]=None)","    get_historical_prices(self, symbol:str, period:str='1y', interval:str='1d') -> Optional[pd.DataFrame]"],"lines":83},"backend/app/services/technical_analysis.py":{"path":"backend/app/services/technical_analysis.py","role":"service","doc":null,"imports":["numpy","pandas","talib","typing"],"globals":[],"todos":[],"items":["class TechnicalAnalysisService  # Pillar 1: Quantitative Engine (Q)","    __init__(self, data:pd.DataFrame)","    _preprocess(self)","    calculate_all(self) -> pd.DataFrame","    add_trend_indicators(self)","    add_momentum_indicators(self)","    add_volatility_indicators(self)","    add_volume_indicators(self)","    add_patterns(self)","    calculate_stats(self) -> Dict[str, float]","    _calculate_max_drawdown(self) -> float"],"lines":112},"backend/app/services/signal_generator.py":{"path":"backend/app/services/signal_generator.py","role":"service","doc":null,"imports":["enum","pandas","technical_analysis","typing"],"globals":[],"todos":[],"items":["class SignalType(Enum)","class SignalGenerator  # PILLAR 3: Decision Engine (D)","    __init__(self, analyzed_df:pd.DataFrame)","    generate_signals(self) -> List[Dict[str, Any]]","    _create_signal(self, sig_type:SignalType, action:str, reason:str, price:float, atr:float, rr_ratio:float=2.0) -> Dict"],"lines":84},"backend/app/services/fundamental_analysis.py":{"path":"backend/app/services/fundamental_analysis.py","role":"service","doc":null,"imports":["logging","typing"],"globals":[],"todos":[],"items":["class FundamentalAnalysisService  # Formalized service for Fundamental Analysis.","    calculate_score(self, metrics:Dict[str, Any]) -> Tuple[float, Dict[str, Any]]"],"lines":99},"backend/app/services/unified_data_service.py":{"path":"backend/app/services/unified_data_service.py","role":"service","doc":null,"imports":["concurrent","core","data_sources","logging","nse_utils_wrapper","pandas","typing"],"globals":[],"todos":[],"items":["class UnifiedDataService  # Central service to aggregate data from multiple sources with fallback logic.","    __init__(self)","    get_comprehensive_data(self, symbol:str) -> Dict[str, Any]","    get_historical_data(self, symbol:str, interval:str='1d', period:str='1y', source:str='auto')","    get_options_data(self, symbol:str, indices:bool=False)"],"lines":101},"backend/app/services/data_aggregator.py":{"path":"backend/app/services/data_aggregator.py","role":"service","doc":null,"imports":["core","datetime","logging","pandas","typing","unified_data_service"],"globals":[],"todos":[],"items":["class HybridAggregator  # Intelligent data aggregator refactored to use UnifiedDataService.","    __init__(self, use_cache:bool=True)","    get_stock_data(self, symbol:str, include_historical:bool=True) -> Dict[str, Any]","    get_fundamental_data(self, symbol:str) -> Dict[str, Any]","    get_complete_analysis(self, symbol:str) -> Dict[str, Any]","    get_quick_quote(self, symbol:str) -> Optional[Dict]","    batch_fetch(self, symbols:List[str], max_workers:int=5) -> Dict[str, Dict]"],"lines":96},"backend/app/services/screener_engine.py":{"path":"backend/app/services/screener_engine.py","role":"service","doc":null,"imports":["pandas","typing"],"globals":[],"todos":[],"items":["class ScreenerEngine  # PILLAR 2: Analytics Engine (A)","    __init__(self, stocks_df:pd.DataFrame)","    run_screen(self, conditions:List[Dict[str, Any]]) -> pd.DataFrame"],"lines":38},"backend/app/services/derivatives_analyzer.py":{"path":"backend/app/services/derivatives_analyzer.py","role":"service","doc":null,"imports":["numpy","pandas","typing"],"globals":[],"todos":[],"items":["class DerivativesAnalyzer  # Analyzes Derivatives Data (Options & Futures).","    __init__(self)","    analyze_option_chain(self, chain_df:pd.DataFrame) -> Dict[str, Any]","    analyze_futures_buildup(self, current_price:float, prev_price:float, current_oi:int, prev_oi:int) -> str"],"lines":90},"backend/app/ml/__init__.py":{"path":"backend/app/ml/__init__.py","role":"general","doc":"Machine learning package","imports":[],"globals":[],"todos":[],"items":[],"lines":2},"backend/app/ml/data_prep.py":{"path":"backend/app/ml/data_prep.py","role":"general","doc":"Model Data Preparation Engine","imports":["datetime","logging","numpy","pandas","typing"],"globals":[],"todos":[],"items":["class ModelDataPrep  # Prepare data for financial models","    __init__(self, nse, db)","    prepare_price_prediction_data(self, symbol:str, lookback_days:int=365) -> Dict","    prepare_volatility_model_data(self, symbol:str, lookback_days:int=180) -> Dict","    prepare_sentiment_data(self, symbol:str, lookback_days:int=90) -> Dict","    prepare_portfolio_data(self, symbols:List[str], lookback_days:int=365) -> Dict","    prepare_options_trading_data(self, symbol:str, expiry:Optional[str]=None) -> Dict","    prepare_event_driven_data(self, symbol:str, lookback_days:int=180) -> Dict","    _calculate_quality_score(self, quality_dict:Dict) -> float","    export_for_talib(self, price_history:pd.DataFrame) -> Dict"],"lines":652},"backend/app/ml/features/feature_pipeline.py":{"path":"backend/app/ml/features/feature_pipeline.py","role":"general","doc":null,"imports":["app","numpy","pandas"],"globals":[],"todos":[],"items":["class FeatureEngineeringPipeline  # PILLAR 4: Prediction Engine (P)","    __init__(self, price_data:pd.DataFrame, fundamental_data:dict)","    generate_features(self) -> pd.DataFrame","    _add_return_features(self)","    _add_time_features(self)","    _add_fundamental_features(self)","    _add_targets(self)"],"lines":58},"backend/app/ml/serving/predictor.py":{"path":"backend/app/ml/serving/predictor.py","role":"general","doc":null,"imports":["joblib","os","pandas","typing"],"globals":[],"todos":[],"items":["class PredictorService  # Handles model loading and inference for direction and volatility.","    __init__(self)","    _load_model(self, filename:str)","    predict(self, feature_row:pd.DataFrame) -> Dict[str, Any]"],"lines":37},"backend/app/api/v1/router.py":{"path":"backend/app/api/v1/router.py","role":"api","doc":null,"imports":["app","fastapi"],"globals":[],"todos":[],"items":[],"lines":9},"backend/app/api/v1/endpoints/data.py":{"path":"backend/app/api/v1/endpoints/data.py","role":"api","doc":null,"imports":["fastapi"],"globals":[],"todos":[],"items":["def async list_stocks()","def async get_indices()"],"lines":105},"backend/app/api/v1/endpoints/stocks.py":{"path":"backend/app/api/v1/endpoints/stocks.py","role":"api","doc":null,"imports":["database","fastapi","typing"],"globals":[],"todos":[],"items":["def get_db()","def async get_stock_profile(symbol:str)","def async get_stock_history(symbol:str, days:int=Query(365, ge=1, le=2000), start_date:Optional[str]=None, end_date:Optional[str]=None)","def async get_stock_financials(symbol:str, limit:int=12)"],"lines":67},"backend/app/api/v1/endpoints/recommendations.py":{"path":"backend/app/api/v1/endpoints/recommendations.py","role":"api","doc":null,"imports":["fastapi","pydantic","services","typing"],"globals":[],"todos":[],"items":["class TechnicalDetails(BaseModel)","class RecommendationResponse(BaseModel)","def get_recommendations(strategy:str=Query('balanced', enum=['growth', 'value', 'momentum', 'balanced']), limit:int=Query(10, ge=1, le=100))"],"lines":49},"backend/app/api/v1/endpoints/health.py":{"path":"backend/app/api/v1/endpoints/health.py","role":"api","doc":null,"imports":["fastapi"],"globals":[],"todos":[],"items":["def async health_check()"],"lines":10},"backend/app/core/__init__.py":{"path":"backend/app/core/__init__.py","role":"general","doc":"Core utilities for data processing and normalization","imports":["data_normalizer","field_mappers","schema","source_adapters"],"globals":[],"todos":[],"items":[],"lines":24},"backend/app/core/source_adapters.py":{"path":"backend/app/core/source_adapters.py","role":"general","doc":"Source Parameter Adapters","imports":["datetime","logging","typing"],"globals":["ADAPTERS"],"todos":[],"items":["class SourceParameterAdapter  # Base class for parameter adaptation","    period_to_dates(period:str) -> Tuple[datetime, datetime]","class YahooFinanceAdapter(SourceParameterAdapter)  # Yahoo Finance parameter adapter","    adapt_parameters(cls, period:str, interval:str) -> Dict[str, str]","class NSEAdapter(SourceParameterAdapter)  # NSE parameter adapter","    adapt_parameters(cls, period:str, interval:str) -> Dict[str, Any]","    supports_interval(cls, interval:str) -> bool","class ScreenerAdapter(SourceParameterAdapter)  # Screener.in parameter adapter","    adapt_parameters(cls, period:str, interval:str) -> Dict[str, Any]","    supports_historical(cls) -> bool","def get_adapter(source:str) -> SourceParameterAdapter","def adapt_parameters(source:str, period:str, interval:str) -> Dict[str, Any]"],"lines":181},"backend/app/core/data_merger.py":{"path":"backend/app/core/data_merger.py","role":"general","doc":null,"imports":["logging","pandas","typing"],"globals":[],"todos":[],"items":["class DataMerger  # Utility for merging data from multiple sources based on priority.","    merge_price_data(sources:List[Dict[str, Any]], priority:List[str]=None) -> Optional[Dict[str, Any]]","class DataQualityChecker  # Utility for checking data quality.","    check_price_data(data:Dict[str, Any]) -> bool"],"lines":51},"backend/app/core/redis.py":{"path":"backend/app/core/redis.py","role":"general","doc":null,"imports":["app","redis"],"globals":[],"todos":[],"items":["def async get_redis()"],"lines":11},"backend/app/core/schema.py":{"path":"backend/app/core/schema.py","role":"model","doc":"Standard Schema Definition","imports":["datetime","typing"],"globals":[],"todos":[],"items":["class StandardSchema  # Standard internal schema for stock data across all sources","    get_all_fields(cls) -> Dict[str, Type]"],"lines":74},"backend/app/core/cache.py":{"path":"backend/app/core/cache.py","role":"general","doc":"Intelligent caching system with TTL and persistence","imports":["datetime","hashlib","logging","pathlib","pickle","typing"],"globals":[],"todos":[],"items":["class CacheManager  # Multi-layer cache system with TTL.","    __init__(self, enabled:bool=True, cache_dir:str='.cache')","    _get_cache_key(self, key:str) -> str","    _get_cache_file(self, key:str) -> Path","    get(self, key:str) -> Optional[Any]","    set(self, key:str, value:Any, ttl:int=3600)","    clear(self)","    get_stats(self) -> dict"],"lines":131},"backend/app/core/database.py":{"path":"backend/app/core/database.py","role":"general","doc":null,"imports":["app","sqlalchemy"],"globals":[],"todos":[],"items":["def async get_db()"],"lines":19},"backend/app/core/field_mappers.py":{"path":"backend/app/core/field_mappers.py","role":"general","doc":"Field Mappers for Different Data Sources","imports":["typing"],"globals":["REVERSE_MAPPERS"],"todos":[],"items":["class YahooFinanceMapper  # Maps Yahoo Finance (yfinance) fields to standard schema","class NSEMapper  # Maps NSE fields to standard schema","class ScreenerMapper  # Maps Screener.in fields to standard schema"],"lines":136},"backend/app/core/data_normalizer.py":{"path":"backend/app/core/data_normalizer.py","role":"general","doc":"Data Normalizer","imports":["datetime","field_mappers","logging","pandas","schema","typing"],"globals":[],"todos":[],"items":["class DataNormalizer  # Normalizes data from different sources to standard schema","    __init__(self)","    normalize_price_data(self, data:Dict[str, Any], source:str) -> Dict[str, Any]","    normalize_company_data(self, data:Dict[str, Any], source:str) -> Dict[str, Any]","    normalize_fundamental_data(self, data:Dict[str, Any], source:str) -> Dict[str, Any]","    normalize_complete_data(self, data:Dict[str, Any], source:str) -> Dict[str, Any]","    _convert_type(self, value:Any, target_type:Optional[Type]) -> Any","    merge_normalized_data(self) -> Dict[str, Any]"],"lines":175},"backend/app/core/config.py":{"path":"backend/app/core/config.py","role":"config","doc":null,"imports":["os","pydantic","pydantic_settings","typing"],"globals":[],"todos":[],"items":["class Settings(BaseSettings)","    assemble_cors_origins(cls, v:Any) -> List[str]","    assemble_db_connection(cls, v:Optional[str], values:dict) -> str","    assemble_redis_uri(cls, v:Optional[str], values:dict) -> str"],"lines":48},"backend/app/core/rate_limiter.py":{"path":"backend/app/core/rate_limiter.py","role":"general","doc":"Rate limiting to prevent API throttling","imports":["collections","logging","threading","time"],"globals":[],"todos":[],"items":["class RateLimiter  # Token bucket rate limiter.","    __init__(self, calls_per_minute:int=30)","    wait_if_needed(self)"],"lines":43},"backend/app/workers/celery_app.py":{"path":"backend/app/workers/celery_app.py","role":"general","doc":null,"imports":["app","celery"],"globals":[],"todos":[],"items":[],"lines":28},"backend/app/database/__init__.py":{"path":"backend/app/database/__init__.py","role":"data","doc":"Database package initializer.","imports":["db_manager","updater"],"globals":[],"todos":[],"items":[],"lines":9},"backend/app/database/updater.py":{"path":"backend/app/database/updater.py","role":"data","doc":"Data Updater - Fetches data from sources and stores in database","imports":["data_sources","datetime","db_manager","logging","pandas","re","services","time","typing"],"globals":[],"todos":[],"items":["class DataUpdater  # Update database with fresh data from all sources.","    __init__(self, db_path:str='stock_data.db')","    update_stock(self, symbol:str, force:bool=False) -> Dict[str, any]","    _update_company_info(self, symbol:str, data:Dict)","    _update_snapshot(self, symbol:str, data:Dict)","    _update_price_history(self, symbol:str, data:Dict) -> int","    _update_quarterly_results(self, symbol:str, data:Dict)","    _update_annual_results(self, symbol:str, data:Dict)","    _update_shareholding(self, symbol:str, data:Dict)","    _update_balance_sheet(self, symbol:str, data:Dict)","    _update_cash_flow(self, symbol:str, data:Dict)","    _update_ratios(self, symbol:str, data:Dict)","    _update_peers(self, symbol:str, data:Dict) -> int","    _update_corporate_actions(self, symbol:str, data:Dict)","    _update_derivatives(self, symbol:str)","    _update_technicals(self, symbol:str)","    update_all_corporate_actions(self)","    update_multiple(self, symbols:List[str], force:bool=False, delay:float=2.0)","    update_market_data(self) -> Dict[str, any]","    _extract_number(self, value) -> Optional[float]"],"lines":452},"backend/app/database/schema.py":{"path":"backend/app/database/schema.py","role":"data","doc":"Complete NSE ML Database Schema","imports":[],"globals":["CREATE_TABLES","DROP_ALL_TABLES","ALL_TABLES","CORE_TABLES","ML_CRITICAL_TABLES","TABLE_CATEGORIES"],"todos":[],"items":[],"lines":1118},"backend/app/database/db_manager.py":{"path":"backend/app/database/db_manager.py","role":"data","doc":"SQLite Database Manager - Hybrid Schema","imports":["datetime","json","logging","pandas","pathlib","schema","sqlite3","typing"],"globals":[],"todos":[],"items":["class DatabaseManager  # Manage SQLite database operations with hybrid schema.","    __init__(self, db_path:str='stock_data.db')","    _initialize_db(self)","    _verify_schema(self)","    execute(self, query:str, params:tuple=None) -> sqlite3.Cursor","    executemany(self, query:str, params_list:List[tuple]) -> sqlite3.Cursor","    commit(self)","    rollback(self)","    begin_transaction(self)","    add_company(self, symbol:str, company_name:str=None, sector:str=None, industry:str=None, isin:str=None, listing_date:str=None)","    get_company(self, symbol:str) -> Optional[Dict]","    get_all_companies(self, sector:str=None) -> List[Dict]","    get_sectors(self) -> List[str]","    update_snapshot(self, symbol:str, data:Dict)","    get_snapshot(self, symbol:str) -> Optional[Dict]","    get_all_snapshots(self) -> pd.DataFrame","    save_price_history(self, symbol:str, df:pd.DataFrame)","    get_price_history(self, symbol:str, days:int=365, start_date:str=None, end_date:str=None) -> pd.DataFrame","    get_latest_price_date(self, symbol:str) -> Optional[datetime]","    save_quarterly_results(self, symbol:str, df:pd.DataFrame)","    get_quarterly_results(self, symbol:str, limit:int=12) -> pd.DataFrame","    save_annual_results(self, symbol:str, df:pd.DataFrame)","    get_annual_results(self, symbol:str, limit:int=10) -> pd.DataFrame","    save_balance_sheet(self, symbol:str, df:pd.DataFrame)","    get_latest_fundamentals(self, symbol:str) -> Optional[Dict]","    save_cash_flow(self, symbol:str, df:pd.DataFrame)","    save_financial_ratios(self, symbol:str, df:pd.DataFrame)","    save_shareholding(self, symbol:str, df:pd.DataFrame)","    get_shareholding(self, symbol:str, limit:int=8) -> pd.DataFrame","    save_peers(self, symbol:str, df:pd.DataFrame)","    get_peers(self, symbol:str) -> pd.DataFrame","    save_custom_metric(self, symbol:str, metric_name:str, metric_value:Any, metric_type:str='text', period:str=None, category:str='custom')","    get_custom_metrics(self, symbol:str, category:str=None, period:str=None) -> List[Dict]","    add_portfolio_holding(self, symbol:str, quantity:int, avg_price:float, purchase_date:str=None, notes:str=None)","    get_portfolio_holdings(self) -> List[Dict]","    remove_portfolio_holding(self, symbol:str)","    log_update(self, symbol:str, table_name:str, record_count:int=0, status:str='success', message:str=None, execution_time:float=None)","    get_last_update(self, symbol:str, table_name:str=None) -> Optional[datetime]","    get_update_summary(self) -> pd.DataFrame","    needs_update(self, symbol:str, hours:int=24) -> bool","    _parse_number(self, value) -> Optional[float]","    _parse_percentage(self, value) -> Optional[float]","    save_fii_dii_activity(self, data:Dict)","    save_corporate_actions(self, df:pd.DataFrame)","    save_option_chain(self, df:pd.DataFrame)","    save_market_breadth(self, data:Dict)","    get_table_info(self, table_name:str) -> pd.DataFrame","    get_row_count(self, table_name:str) -> int","    get_database_stats(self) -> Dict","    vacuum(self)","    close(self)"],"lines":1276},"scripts/update_db.py":{"path":"scripts/update_db.py","role":"data","doc":"Database Update CLI Tool","imports":["argparse","backend","logging","pathlib","sys"],"globals":[],"todos":[],"items":["def main()","def show_status(updater:DataUpdater)","def list_sectors(updater:DataUpdater)","def print_result(result:dict)"],"lines":196},"scripts/test_data_sources.py":{"path":"scripts/test_data_sources.py","role":"general","doc":"Test all data sources for INFY (Infosys)","imports":["backend","pandas","pathlib","sys"],"globals":[],"todos":[],"items":["def test_yahoo_finance(symbol)","def test_nse_direct(symbol)","def test_screener(symbol)","def main()"],"lines":150},"scripts/verify_enhancements.py":{"path":"scripts/verify_enhancements.py","role":"general","doc":null,"imports":["backend","logging","os","sys"],"globals":[],"todos":[],"items":["def verify()"],"lines":62},"scripts/analyze_data_coverage.py":{"path":"scripts/analyze_data_coverage.py","role":"general","doc":null,"imports":["os","pandas","pathlib","sqlite3","sys"],"globals":["DB_PATH"],"todos":[],"items":["def analyze_database(db_path)"],"lines":92},"scripts/fill_data_gaps.py":{"path":"scripts/fill_data_gaps.py","role":"general","doc":null,"imports":["backend","logging","os","pathlib","sys"],"globals":[],"todos":[],"items":["def fill_data_gaps()"],"lines":58},"scripts/test_nselib.py":{"path":"scripts/test_nselib.py","role":"general","doc":null,"imports":["nselib"],"globals":[],"todos":[],"items":[],"lines":44},"scripts/test_sources.py":{"path":"scripts/test_sources.py","role":"general","doc":null,"imports":["nselib","pandas","yfinance"],"globals":[],"todos":[],"items":[],"lines":47},"scripts/verify_priority.py":{"path":"scripts/verify_priority.py","role":"general","doc":null,"imports":["backend","logging","os","sys"],"globals":[],"todos":[],"items":["def verify_priority()"],"lines":45},"scripts/export_data.py":{"path":"scripts/export_data.py","role":"general","doc":"Master Unified Exporter - Combines NSE + Screener + Validation","imports":["backend","datetime","json","pandas","pathlib","sys"],"globals":[],"todos":[],"items":["class UnifiedExporter  # Export everything from NSE + Screener in one organized structure.","    __init__(self, output_dir:str='stock_data')","    export_complete(self, symbol:str)","    _export_market_data(self, data, market_dir, summary)","    _export_fundamentals(self, data, fundamental_dir, summary)","    _save_metadata(self, symbol_dir, summary)","    _print_summary(self, symbol, summary)","    export_to_excel(self, symbol:str, filename:str=None)","def main()"],"lines":261},"scripts/test_recommendations.py":{"path":"scripts/test_recommendations.py","role":"general","doc":null,"imports":["backend","logging","os","sys"],"globals":[],"todos":[],"items":["def test_recommendations()"],"lines":36},"scripts/fresh_start_check.py":{"path":"scripts/fresh_start_check.py","role":"general","doc":null,"imports":["backend","datetime","logging","os","pandas","shutil","sys"],"globals":["DB_PATH","BACKUP_PATH"],"todos":[],"items":["def reset_database()","def check_coverage(db:DatabaseManager, symbol:str)","def main()"],"lines":110},"scripts/check_corp_actions.py":{"path":"scripts/check_corp_actions.py","role":"general","doc":null,"imports":["backend","os","pandas","sys"],"globals":[],"todos":[],"items":["def check_structure()"],"lines":23},"scripts/test_granular.py":{"path":"scripts/test_granular.py","role":"general","doc":null,"imports":["pandas","requests","yfinance"],"globals":[],"todos":[],"items":[],"lines":33}}}